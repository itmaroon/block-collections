"use strict";(globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[]).push([[265],{265:(e,l,t)=>{t.r(l),t.d(l,{default:()=>D});var o=t(723);t(609);const n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwIiB6b29tQW5kUGFuPSJtYWduaWZ5IiB2aWV3Qm94PSIwIDAgNzUgNzQuOTk5OTk3IiBoZWlnaHQ9IjEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmVyc2lvbj0iMS4wIj48ZGVmcz48Y2xpcFBhdGggaWQ9IjgyMmM0YzQ0ODIiPjxwYXRoIGQ9Ik0gMCAxMy4wNzgxMjUgTCA3NSAxMy4wNzgxMjUgTCA3NSA2MS44MjgxMjUgTCAwIDYxLjgyODEyNSBaIE0gMCAxMy4wNzgxMjUgIiBjbGlwLXJ1bGU9Im5vbnplcm8iLz48L2NsaXBQYXRoPjwvZGVmcz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48ZyBjbGlwLXBhdGg9InVybCgjODIyYzRjNDQ4MikiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0gNzMuODc4OTA2IDM0LjYyODkwNiBDIDY5Ljg1OTM3NSAyOC4yMTA5MzggNTguMTkxNDA2IDEzLjA3ODEyNSAzNy41IDEzLjA3ODEyNSBDIDE2LjgxMjUgMTMuMDc4MTI1IDUuMTQ0NTMxIDI4LjIxMDkzOCAxLjEyNSAzNC42Mjg5MDYgQyAwLjA0Mjk2ODggMzYuMzU1NDY5IDAuMDQyOTY4OCAzOC41NTA3ODEgMS4xMjUgNDAuMjc3MzQ0IEMgNS4xNDQ1MzEgNDYuNjk1MzEyIDE2LjgxMjUgNjEuODI4MTI1IDM3LjUgNjEuODI4MTI1IEMgNTguMTkxNDA2IDYxLjgyODEyNSA2OS44NTkzNzUgNDYuNjk1MzEyIDczLjg3ODkwNiA0MC4yNzczNDQgQyA3NC45NjA5MzggMzguNTUwNzgxIDc0Ljk2MDkzOCAzNi4zNTU0NjkgNzMuODc4OTA2IDM0LjYyODkwNiBaIE0gMzcuNSA1My4zNTkzNzUgQyAyOC42OTkyMTkgNTMuMzU5Mzc1IDIxLjU2MjUgNDYuMjM4MjgxIDIxLjU2MjUgMzcuNDUzMTI1IEMgMjEuNTYyNSAyOC42Njc5NjkgMjguNjk5MjE5IDIxLjU0Njg3NSAzNy41IDIxLjU0Njg3NSBDIDQ2LjMwNDY4OCAyMS41NDY4NzUgNTMuNDQxNDA2IDI4LjY2Nzk2OSA1My40NDE0MDYgMzcuNDUzMTI1IEMgNTMuNDQxNDA2IDQ2LjIzODI4MSA0Ni4zMDQ2ODggNTMuMzU5Mzc1IDM3LjUgNTMuMzU5Mzc1IFogTSA0Mi44MTY0MDYgMzQuODAwNzgxIEMgNDEuMzQ3NjU2IDM0LjgwMDc4MSA0MC4xNjAxNTYgMzMuNjEzMjgxIDQwLjE2MDE1NiAzMi4xNTIzNDQgQyA0MC4xNjAxNTYgMzEuNDI1NzgxIDQwLjQ1MzEyNSAzMC43NzczNDQgNDAuOTIxODc1IDMwLjI5Njg3NSBDIDM5Ljg4MjgxMiAyOS44MDA3ODEgMzguNzMwNDY5IDI5LjUgMzcuNSAyOS41IEMgMzMuMTAxNTYyIDI5LjUgMjkuNTMxMjUgMzMuMDU4NTk0IDI5LjUzMTI1IDM3LjQ1MzEyNSBDIDI5LjUzMTI1IDQxLjg0NzY1NiAzMy4xMDE1NjIgNDUuNDA2MjUgMzcuNSA0NS40MDYyNSBDIDQxLjkwMjM0NCA0NS40MDYyNSA0NS40NzI2NTYgNDEuODQ3NjU2IDQ1LjQ3MjY1NiAzNy40NTMxMjUgQyA0NS40NzI2NTYgMzYuMjI2NTYyIDQ1LjE2Nzk2OSAzNS4wNzgxMjUgNDQuNjcxODc1IDM0LjAzOTA2MiBDIDQ0LjE5MTQwNiAzNC41MDc4MTIgNDMuNTM5MDYyIDM0LjgwMDc4MSA0Mi44MTY0MDYgMzQuODAwNzgxIFogTSA0Mi44MTY0MDYgMzQuODAwNzgxICIgZmlsbC1vcGFjaXR5PSIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L2c+PC9zdmc+";var a=t(314),i=t(442),s=t(87),c=t(143),r=t(715),u=t(734),g=t(716),d=t(931),b=t(790);function p(e,l){(0,u.useDeepCompareEffect)(()=>{const t=document.getElementsByName("editor-canvas")[0];if(t){const o=t.contentDocument||t.contentWindow.document,n=new g.E;(0,d.F0)(n.collectStyles((0,b.jsx)(e,{attributes:l})));const a=n.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),i=o.createElement("style");return i.innerHTML=a,o.head.appendChild(i),()=>{o.head.removeChild(i)}}},[l])}var _=t(427),x=t(223);const m={top:"10px",left:"10px",right:"10px",bottom:"10px"},N={top:"0px",left:"0px",right:"0px",bottom:"0px"},h=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function M(e){const{attributes:l}=e,{required:t,labelContent:n,default_pos:a,mobile_pos:i,font_style_label:s,bgColor_label:c,bgGradient_label:g,textColor_label:d,radius_label:M,border_label:j,padding_label:C,labelSpace:I,isMobile:D}=l;return p(x.A,e.attributes),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(r.InspectorControls,{group:"settings",children:[(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Required Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,b.jsx)(_.PanelRow,{className:"labelRequierd_row",children:(0,b.jsx)(_.ToggleControl,{label:(0,o.__)("Required input","block-collections"),checked:t.flg,onChange:l=>{const o={...t,flg:l};e.onChange("required",o)}})}),t.flg&&(0,b.jsx)(_.PanelRow,{children:(0,b.jsx)(_.TextControl,{label:(0,o.__)("Show 'required'","block-collections"),value:t.display,isPressEnterToChange:!0,onChange:l=>{const o={...t,display:l};e.onChange("required",o)}})})]}),(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Label Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,b.jsx)(_.PanelRow,{className:"labelInfo_row",children:(0,b.jsx)(_.TextControl,{label:(0,o.__)("Text of Label","block-collections"),labelPosition:"top",value:n,isPressEnterToChange:!0,onChange:l=>e.onChange("labelContent",l)})}),(0,b.jsx)("label",{children:D?(0,o.__)("Label Alignment(mobile)","block-collections"):(0,o.__)("Label Alignment(desk top)","block-collections")}),(0,b.jsx)(_.__experimentalAlignmentMatrixControl,{label:D?(0,o.__)("Label Alignment(mobile)","block-collections"):(0,o.__)("Label Alignment(desk top)","block-collections"),value:D?i.labelPos:a.labelPos,onChange:l=>{D?e.onChange("mobile_pos",{...i,labelPos:l}):e.onChange("default_pos",{...a,labelPos:l})}}),(0,b.jsx)("label",{children:(0,o.__)("Selecting the center vertically or horizontally will hide it.","block-collections")})]})]}),(0,b.jsx)(r.InspectorControls,{group:"styles",children:(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Label style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,b.jsx)(u.TypographyControls,{title:(0,o.__)("Typography","block-collections"),fontStyle:s,onChange:l=>{e.onChange("font_style_label",l)},isMobile:D,initialOpen:!1}),(0,b.jsx)(r.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Label Color Setting","block-collections"),settings:[{colorValue:d,label:(0,o.__)("Choose Text color","block-collections"),onColorChange:l=>e.onChange("textColor_label",l)},{colorValue:c,gradientValue:g,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:l=>e.onChange("bgColor_label",l),onGradientChange:l=>e.onChange("bgGradient_label",l)}]}),(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,b.jsx)(_.__experimentalBorderBoxControl,{onChange:l=>e.onChange("border_label",l),value:j,allowReset:!0,resetValues:N}),(0,b.jsx)(r.__experimentalBorderRadiusControl,{values:M,onChange:l=>e.onChange("radius_label","string"==typeof l?{value:l}:l)})]}),(0,b.jsx)(_.__experimentalBoxControl,{label:(0,o.__)("Padding settings","block-collections"),values:C,onChange:l=>e.onChange("padding_label",l),units:h,allowReset:!0,resetValues:m}),(0,b.jsx)(_.__experimentalUnitControl,{dragDirection:"e",onChange:l=>e.onChange("labelSpace",l),label:(0,o.__)("Spacing with textbox","block-collections"),value:I})]})}),(0,b.jsx)(x.A,{attributes:l,children:t.flg?(0,b.jsxs)(b.Fragment,{children:[n,(0,b.jsxs)("span",{children:["(",t.display,")"]})]}):n})]})}const j={top:"10px",left:"10px",right:"10px",bottom:"10px"},C={top:"0px",left:"0px",right:"0px",bottom:"0px"},I=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function D(e){const{attributes:l,setAttributes:t,clientId:g}=e,{inputName:d,inputValue:x,placeFolder:m,inputType:N,numberOption:h,addressInput:D,required:y,focusColor:k,bgColor:z,font_style_input:T,bgColor_input:A,bgGradient_input:w,textColor_input:S,radius_input:v,border_input:O,default_pos:L,mobile_pos:B,labelContent:f,shadow_element:E,is_shadow:Y,className:U}=l,P=(0,u.useIsIframeMobile)(),Q=(0,s.useRef)(null),R=(0,r.useBlockProps)({ref:Q,style:{backgroundColor:z}}),V=(0,u.useElementBackgroundColor)(Q,R.style);(0,s.useEffect)(()=>{if(V){t({shadow_element:{...E,baseColor:V}});const e=(0,u.ShadowElm)({...E,baseColor:V});e&&t({shadow_result:e.style})}},[V]),p(i.B,l);const G=y.flg?`${f}(${y.display})`:f,W=e.context["itmar/label_width"]||"auto";(0,s.useEffect)(()=>{t({labelWidth:W})},[W]);const[H,Z]=(0,s.useState)(x);(0,s.useEffect)(()=>{Z(x)},[x]);const[F,X]=(0,s.useState)("auto"),q=(0,s.useRef)(null);(0,s.useEffect)(()=>{q.current&&X(`${q.current.scrollHeight}px`)},[U]);const[$,J]=(0,s.useState)(!1),K=(0,u.useTargetBlocks)(g,"itmar/design-text-ctrl").map(e=>({label:e.attributes.labelContent,value:e.attributes.inputName})),ee=(0,u.useTargetBlocks)(g,"itmar/design-text-ctrl",{inputName:D});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.InspectorControls,{group:"settings",children:(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Input element information setting","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,b.jsx)(_.PanelRow,{children:(0,b.jsx)(_.TextControl,{label:(0,o.__)("name attribute name","block-collections"),value:d,onChange:e=>t({inputName:e})})}),(0,b.jsx)(_.PanelRow,{children:(0,b.jsx)(_.TextControl,{label:(0,o.__)("PlaceHolder","block-collections"),value:m,isPressEnterToChange:!0,onChange:e=>t({placeFolder:e})})}),(0,b.jsx)(_.PanelRow,{className:"itmar_weight_row",children:(0,b.jsx)(_.RadioControl,{selected:N,label:(0,o.__)("Kind of Input Element","block-collections"),options:[{label:"TEXT",value:"text"},{label:"NUMBER",value:"number"},{label:"E-MAIL",value:"email"},{label:"PASSWORD",value:"pass"},{label:"ZIP",value:"zip"},{label:"AREA",value:"textarea"}],onChange:e=>{t({inputType:e})}})}),"number"===N&&(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Number Options","block-collections"),initialOpen:!0,children:[(0,b.jsx)(_.RangeControl,{label:(0,o.__)("Minimum value (min)","block-collections"),value:h.min,onChange:e=>t({numberOption:{...h,min:e}}),min:-100,max:h.max,help:(0,o.__)("Set the minimum allowed value.","block-collections")}),(0,b.jsx)(_.RangeControl,{label:(0,o.__)("Maximum value (max)","block-collections"),value:h.max,onChange:e=>t({numberOption:{...h,max:e}}),min:h.min,max:100,help:(0,o.__)("Set the maximum allowed value.","block-collections")}),(0,b.jsx)(_.__experimentalNumberControl,{label:(0,o.__)("Step","block-collections"),value:h.step,min:1,max:Math.max(h.max-h.min,1),onChange:e=>t({numberOption:{...h,step:Number(e)}}),help:(0,o.__)("Change the increment/decrement step for the value.","block-collections")}),h.min>h.max&&(0,b.jsx)(_.Notice,{status:"error",isDismissible:!1,children:(0,o.__)("The minimum value (min) should not be greater than the maximum value (max).","block-collections")})]}),"zip"===N&&(0,b.jsx)(_.PanelRow,{children:(0,b.jsx)(_.SelectControl,{label:(0,o.__)("Address text box","block-collections"),value:D,options:K,onChange:e=>{t({addressInput:e})}})})]})}),(0,b.jsxs)(r.InspectorControls,{group:"styles",children:[(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Global settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,b.jsx)(r.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Background Color Setting","block-collections"),settings:[{colorValue:z,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor:e})}]}),(0,b.jsx)(r.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Focus Color Setting","block-collections"),settings:[{colorValue:k,label:(0,o.__)("Choose Focus color","block-collections"),onColorChange:e=>t({focusColor:e})}]}),(0,b.jsx)(_.__experimentalBoxControl,{label:P?(0,o.__)("Margin settings(mobile)","block-collections"):(0,o.__)("Margin settings(desk top)","block-collections"),values:P?B.margin_input:L.margin_input,onChange:e=>{t(P?{mobile_pos:{...B,margin_input:e}}:{default_pos:{...L,margin_input:e}})},units:I,allowReset:!0,resetValues:j}),(0,b.jsx)(_.__experimentalBoxControl,{label:P?(0,o.__)("Padding settings(mobile)","block-collections"):(0,o.__)("Padding settings(desk top)","block-collections"),values:P?B.padding_input:L.padding_input,onChange:e=>{t(P?{mobile_pos:{...B,padding_input:e}}:{default_pos:{...L,padding_input:e}})},units:I,allowReset:!0,resetValues:j}),(0,b.jsx)(_.ToggleControl,{label:(0,o.__)("Is Shadow","block-collections"),checked:Y,onChange:e=>{t({is_shadow:e})}}),Y&&(0,b.jsx)(u.ShadowStyle,{shadowStyle:{...E},onChange:(e,l)=>{t({shadow_result:e.style}),t({shadow_element:l})}})]}),(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Input Box style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,b.jsx)(u.TypographyControls,{title:(0,o.__)("Typography","block-collections"),fontStyle:T,onChange:e=>{t({font_style_input:e})},isMobile:P,initialOpen:!1}),(0,b.jsx)(_.__experimentalUnitControl,{label:P?(0,o.__)("Free Width(mobile)","block-collections"):(0,o.__)("Free Width(desk top)","block-collections"),dragDirection:"e",onChange:e=>{t(P?{mobile_pos:{...B,free_width:e}}:{default_pos:{...L,free_width:e}})},value:P?B.free_width:L.free_width}),(0,b.jsx)(_.RangeControl,{value:P?B.inputLineHeight:L.inputLineHeight,label:P?(0,o.__)("Line Height(mobile)","block-collections"):(0,o.__)("Line Height(desk top)","block-collections"),max:3,min:1,step:.1,onChange:e=>{t(P?{mobile_pos:{...B,inputLineHeight:e}}:{default_pos:{...L,inputLineHeight:e}})},withInputField:!0}),(0,b.jsx)(r.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Color Settings","block-collections"),settings:[{colorValue:S,label:(0,o.__)("Choose Text color","block-collections"),onColorChange:e=>t({textColor_input:e})},{colorValue:A,gradientValue:w,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor_input:e}),onGradientChange:e=>t({bgGradient_input:e})}]}),(0,b.jsxs)(_.PanelBody,{title:(0,o.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,b.jsx)(_.__experimentalBorderBoxControl,{onChange:e=>t({border_input:e}),value:O,allowReset:!0,resetValues:C}),(0,b.jsx)(r.__experimentalBorderRadiusControl,{values:v,onChange:e=>t({radius_input:"string"==typeof e?{value:e}:e})})]})]})]}),(0,b.jsx)("div",{...R,children:(0,b.jsxs)(i.B,{attributes:l,children:["text"===N&&(0,b.jsx)("input",{type:"text",name:d,placeholder:U?.includes("is-style-line")?G:m,className:"contact_text "+(H?"":"empty"),value:H,onChange:e=>{const l=e.target.value;Z(l),t({inputValue:l})}}),"email"===N&&(0,b.jsx)("input",{type:"email",placeholder:U?.includes("is-style-line")?G:m,className:"contact_text "+(H?"":"empty"),value:H,onChange:e=>{const l=e.target.value;Z(l),t({inputValue:l})}}),"pass"===N&&(0,b.jsxs)("div",{className:"password-wrapper",children:[(0,b.jsx)("input",{type:$?"text":"password",placeholder:U?.includes("is-style-line")?G:m,className:"contact_text "+(H?"":"empty"),value:H,onChange:e=>{const l=e.target.value;Z(l),t({inputValue:l})}}),(0,b.jsx)("button",{type:"button",className:"toggle-password-button",onClick:()=>J(!$),"aria-label":$?"パスワードを非表示":"パスワードを表示",children:(0,b.jsx)("img",{src:$?n:a.A,alt:"","aria-hidden":"true"})})]}),"zip"===N&&(0,b.jsxs)("div",{className:"zip-search-wrapper",children:[(0,b.jsx)("input",{type:"text",value:H,placeholder:`${(0,o.__)("example","block-collections")}) 1234567`,className:"contact_text "+(H?"":"empty"),onChange:e=>{const l=e.target.value;Z(l),t({inputValue:l})}}),(0,b.jsx)("button",{type:"button",onClick:async()=>{const e=await(0,u.fetchZipToAddress)(H);if(!e)return;const l=`${e.address1}${e.address2}${e.address3}`;ee?(0,c.dispatch)(r.store).updateBlockAttributes(ee.clientId,{inputValue:l}):alert((0,o.__)("The block to enter the address cannot be found.","block-collections"))},className:"zip-search-button",children:(0,o.__)("Address Search","block-collections")})]}),"number"===N&&(0,b.jsxs)("div",{className:"number-input-wrapper",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{const e=Number(h.min),l=Number(h.max);let o=(parseInt(H,10)||0)-Number(h.step||1);o<e&&(o=e),o>l&&(o=l),Z(o),t({inputValue:o})},children:"-"}),(0,b.jsx)("input",{type:"number",name:d,min:h.min,max:h.max,step:h.step,placeholder:U?.includes("is-style-line")?G:"",className:"contact_text "+(H?"":"empty"),value:H,onChange:e=>{const l=Number(h.min),o=Number(h.max);let n=e.target.value;if(""===n)return Z(""),void t({inputValue:""});n=Number(n),isNaN(n)||(n<l&&(n=l),n>o&&(n=o),Z(n),t({inputValue:n}))}}),(0,b.jsx)("button",{type:"button",onClick:()=>{const e=Number(h.min),l=Number(h.max);let o=(parseInt(H,10)||0)+Number(h.step||1);o>l&&(o=l),o<e&&(o=e),Z(o),t({inputValue:o})},children:"+"})]}),"textarea"===N&&(0,b.jsx)("textarea",{ref:q,style:{height:F},name:d,placeholder:U?.includes("is-style-line")?G:m,className:"contact_text "+(H?"":"empty"),value:H,onChange:e=>{const l=e.target.value,o=e.target.scrollHeight;Z(l),X(`${o}px`),t({inputValue:l})}}),(0,b.jsx)(M,{attributes:{...l,isMobile:P},onChange:(e,l)=>t({[e]:l})})]})})]})}}}]);