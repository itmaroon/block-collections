"use strict";(globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[]).push([[265],{265(e,l,t){t.r(l),t.d(l,{default:()=>I});var o=t(723);t(609);var n=t(314),a=t(442),i=t(87),s=t(143),c=t(715),r=t(734),u=t(716),g=t(931),d=t(790);function b(e,l){(0,r.useDeepCompareEffect)(()=>{const t=document.getElementsByName("editor-canvas")[0];if(t){const o=t.contentDocument||t.contentWindow.document,n=new u.E;(0,g.F0)(n.collectStyles((0,d.jsx)(e,{attributes:l})));const a=n.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),i=o.createElement("style");return i.innerHTML=a,o.head.appendChild(i),()=>{o.head.removeChild(i)}}},[l])}var p=t(427),_=t(223);const x={top:"10px",left:"10px",right:"10px",bottom:"10px"},m={top:"0px",left:"0px",right:"0px",bottom:"0px"},N=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function h(e){const{attributes:l}=e,{required:t,labelContent:n,default_pos:a,mobile_pos:i,font_style_label:s,bgColor_label:u,bgGradient_label:g,textColor_label:h,radius_label:M,border_label:j,padding_label:C,labelSpace:I,isMobile:D}=l;return b(_.A,e.attributes),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c.InspectorControls,{group:"settings",children:[(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Required Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,d.jsx)(p.PanelRow,{className:"labelRequierd_row",children:(0,d.jsx)(p.ToggleControl,{label:(0,o.__)("Required input","block-collections"),checked:t.flg,onChange:l=>{const o={...t,flg:l};e.onChange("required",o)}})}),t.flg&&(0,d.jsx)(p.PanelRow,{children:(0,d.jsx)(p.TextControl,{label:(0,o.__)("Show 'required'","block-collections"),value:t.display,isPressEnterToChange:!0,onChange:l=>{const o={...t,display:l};e.onChange("required",o)}})})]}),(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Label Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,d.jsx)(p.PanelRow,{className:"labelInfo_row",children:(0,d.jsx)(p.TextControl,{label:(0,o.__)("Text of Label","block-collections"),labelPosition:"top",value:n,isPressEnterToChange:!0,onChange:l=>e.onChange("labelContent",l)})}),(0,d.jsx)("label",{children:D?(0,o.__)("Label Alignment(mobile)","block-collections"):(0,o.__)("Label Alignment(desk top)","block-collections")}),(0,d.jsx)(p.__experimentalAlignmentMatrixControl,{label:D?(0,o.__)("Label Alignment(mobile)","block-collections"):(0,o.__)("Label Alignment(desk top)","block-collections"),value:D?i.labelPos:a.labelPos,onChange:l=>{D?e.onChange("mobile_pos",{...i,labelPos:l}):e.onChange("default_pos",{...a,labelPos:l})}}),(0,d.jsx)("label",{children:(0,o.__)("Selecting the center vertically or horizontally will hide it.","block-collections")})]})]}),(0,d.jsx)(c.InspectorControls,{group:"styles",children:(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Label style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,d.jsx)(r.TypographyControls,{title:(0,o.__)("Typography","block-collections"),fontStyle:s,onChange:l=>{e.onChange("font_style_label",l)},isMobile:D,initialOpen:!1}),(0,d.jsx)(c.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Label Color Setting","block-collections"),settings:[{colorValue:h,label:(0,o.__)("Choose Text color","block-collections"),onColorChange:l=>e.onChange("textColor_label",l)},{colorValue:u,gradientValue:g,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:l=>e.onChange("bgColor_label",l),onGradientChange:l=>e.onChange("bgGradient_label",l)}]}),(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,d.jsx)(p.__experimentalBorderBoxControl,{onChange:l=>e.onChange("border_label",l),value:j,allowReset:!0,resetValues:m}),(0,d.jsx)(c.__experimentalBorderRadiusControl,{values:M,onChange:l=>e.onChange("radius_label","string"==typeof l?{value:l}:l)})]}),(0,d.jsx)(p.__experimentalBoxControl,{label:(0,o.__)("Padding settings","block-collections"),values:C,onChange:l=>e.onChange("padding_label",l),units:N,allowReset:!0,resetValues:x}),(0,d.jsx)(p.__experimentalUnitControl,{dragDirection:"e",onChange:l=>e.onChange("labelSpace",l),label:(0,o.__)("Spacing with textbox","block-collections"),value:I})]})}),(0,d.jsx)(_.A,{attributes:l,children:t.flg?(0,d.jsxs)(d.Fragment,{children:[n,(0,d.jsxs)("span",{children:["(",t.display,")"]})]}):n})]})}const M={top:"10px",left:"10px",right:"10px",bottom:"10px"},j={top:"0px",left:"0px",right:"0px",bottom:"0px"},C=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function I(e){const{attributes:l,setAttributes:t,clientId:u}=e,{inputName:g,inputValue:_,placeFolder:x,inputType:m,numberOption:N,addressInput:I,required:D,focusColor:y,bgColor:k,font_style_input:z,bgColor_input:T,bgGradient_input:A,textColor_input:w,radius_input:S,border_input:v,default_pos:O,mobile_pos:L,labelContent:B,shadow_element:f,is_shadow:E,className:Y}=l,U=(0,r.useIsIframeMobile)(),P=(0,i.useRef)(null),Q=(0,c.useBlockProps)({ref:P,style:{backgroundColor:k}}),R=(0,r.useElementBackgroundColor)(P,Q.style);(0,i.useEffect)(()=>{if(R){t({shadow_element:{...f,baseColor:R}});const e=(0,r.ShadowElm)({...f,baseColor:R});e&&t({shadow_result:e.style})}},[R]),b(a.B,l);const V=D.flg?`${B}(${D.display})`:B,G=e.context["itmar/label_width"]||"auto";(0,i.useEffect)(()=>{t({labelWidth:G})},[G]);const[W,H]=(0,i.useState)(_);(0,i.useEffect)(()=>{H(_)},[_]);const[Z,F]=(0,i.useState)("auto"),X=(0,i.useRef)(null);(0,i.useEffect)(()=>{X.current&&F(`${X.current.scrollHeight}px`)},[Y]);const[q,$]=(0,i.useState)(!1),J=(0,r.useTargetBlocks)(u,"itmar/design-text-ctrl").map(e=>({label:e.attributes.labelContent,value:e.attributes.inputName})),K=(0,r.useTargetBlocks)(u,"itmar/design-text-ctrl",{inputName:I});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.InspectorControls,{group:"settings",children:(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Input element information setting","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,d.jsx)(p.PanelRow,{children:(0,d.jsx)(p.TextControl,{label:(0,o.__)("name attribute name","block-collections"),value:g,onChange:e=>t({inputName:e})})}),(0,d.jsx)(p.PanelRow,{children:(0,d.jsx)(p.TextControl,{label:(0,o.__)("PlaceHolder","block-collections"),value:x,isPressEnterToChange:!0,onChange:e=>t({placeFolder:e})})}),(0,d.jsx)(p.PanelRow,{className:"itmar_weight_row",children:(0,d.jsx)(p.RadioControl,{selected:m,label:(0,o.__)("Kind of Input Element","block-collections"),options:[{label:"TEXT",value:"text"},{label:"NUMBER",value:"number"},{label:"E-MAIL",value:"email"},{label:"PASSWORD",value:"pass"},{label:"ZIP",value:"zip"},{label:"AREA",value:"textarea"}],onChange:e=>{t({inputType:e})}})}),"number"===m&&(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Number Options","block-collections"),initialOpen:!0,children:[(0,d.jsx)(p.RangeControl,{label:(0,o.__)("Minimum value (min)","block-collections"),value:N.min,onChange:e=>t({numberOption:{...N,min:e}}),min:-100,max:N.max,help:(0,o.__)("Set the minimum allowed value.","block-collections")}),(0,d.jsx)(p.RangeControl,{label:(0,o.__)("Maximum value (max)","block-collections"),value:N.max,onChange:e=>t({numberOption:{...N,max:e}}),min:N.min,max:100,help:(0,o.__)("Set the maximum allowed value.","block-collections")}),(0,d.jsx)(p.__experimentalNumberControl,{label:(0,o.__)("Step","block-collections"),value:N.step,min:1,max:Math.max(N.max-N.min,1),onChange:e=>t({numberOption:{...N,step:Number(e)}}),help:(0,o.__)("Change the increment/decrement step for the value.","block-collections")}),N.min>N.max&&(0,d.jsx)(p.Notice,{status:"error",isDismissible:!1,children:(0,o.__)("The minimum value (min) should not be greater than the maximum value (max).","block-collections")})]}),"zip"===m&&(0,d.jsx)(p.PanelRow,{children:(0,d.jsx)(p.SelectControl,{label:(0,o.__)("Address text box","block-collections"),value:I,options:J,onChange:e=>{t({addressInput:e})}})})]})}),(0,d.jsxs)(c.InspectorControls,{group:"styles",children:[(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Global settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,d.jsx)(c.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Background Color Setting","block-collections"),settings:[{colorValue:k,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor:e})}]}),(0,d.jsx)(c.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Focus Color Setting","block-collections"),settings:[{colorValue:y,label:(0,o.__)("Choose Focus color","block-collections"),onColorChange:e=>t({focusColor:e})}]}),(0,d.jsx)(p.__experimentalBoxControl,{label:U?(0,o.__)("Margin settings(mobile)","block-collections"):(0,o.__)("Margin settings(desk top)","block-collections"),values:U?L.margin_input:O.margin_input,onChange:e=>{t(U?{mobile_pos:{...L,margin_input:e}}:{default_pos:{...O,margin_input:e}})},units:C,allowReset:!0,resetValues:M}),(0,d.jsx)(p.__experimentalBoxControl,{label:U?(0,o.__)("Padding settings(mobile)","block-collections"):(0,o.__)("Padding settings(desk top)","block-collections"),values:U?L.padding_input:O.padding_input,onChange:e=>{t(U?{mobile_pos:{...L,padding_input:e}}:{default_pos:{...O,padding_input:e}})},units:C,allowReset:!0,resetValues:M}),(0,d.jsx)(p.ToggleControl,{label:(0,o.__)("Is Shadow","block-collections"),checked:E,onChange:e=>{t({is_shadow:e})}}),E&&(0,d.jsx)(r.ShadowStyle,{shadowStyle:{...f},onChange:(e,l)=>{t({shadow_result:e.style}),t({shadow_element:l})}})]}),(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Input Box style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,d.jsx)(r.TypographyControls,{title:(0,o.__)("Typography","block-collections"),fontStyle:z,onChange:e=>{t({font_style_input:e})},isMobile:U,initialOpen:!1}),(0,d.jsx)(p.__experimentalUnitControl,{label:U?(0,o.__)("Free Width(mobile)","block-collections"):(0,o.__)("Free Width(desk top)","block-collections"),dragDirection:"e",onChange:e=>{t(U?{mobile_pos:{...L,free_width:e}}:{default_pos:{...O,free_width:e}})},value:U?L.free_width:O.free_width}),(0,d.jsx)(p.RangeControl,{value:U?L.inputLineHeight:O.inputLineHeight,label:U?(0,o.__)("Line Height(mobile)","block-collections"):(0,o.__)("Line Height(desk top)","block-collections"),max:3,min:1,step:.1,onChange:e=>{t(U?{mobile_pos:{...L,inputLineHeight:e}}:{default_pos:{...O,inputLineHeight:e}})},withInputField:!0}),(0,d.jsx)(c.__experimentalPanelColorGradientSettings,{title:(0,o.__)("Color Settings","block-collections"),settings:[{colorValue:w,label:(0,o.__)("Choose Text color","block-collections"),onColorChange:e=>t({textColor_input:e})},{colorValue:T,gradientValue:A,label:(0,o.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor_input:e}),onGradientChange:e=>t({bgGradient_input:e})}]}),(0,d.jsxs)(p.PanelBody,{title:(0,o.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,d.jsx)(p.__experimentalBorderBoxControl,{onChange:e=>t({border_input:e}),value:v,allowReset:!0,resetValues:j}),(0,d.jsx)(c.__experimentalBorderRadiusControl,{values:S,onChange:e=>t({radius_input:"string"==typeof e?{value:e}:e})})]})]})]}),(0,d.jsx)("div",{...Q,children:(0,d.jsxs)(a.B,{attributes:l,children:["text"===m&&(0,d.jsx)("input",{type:"text",name:g,placeholder:Y?.includes("is-style-line")?V:x,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),"email"===m&&(0,d.jsx)("input",{type:"email",placeholder:Y?.includes("is-style-line")?V:x,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),"pass"===m&&(0,d.jsxs)("div",{className:"password-wrapper",children:[(0,d.jsx)("input",{type:q?"text":"password",placeholder:Y?.includes("is-style-line")?V:x,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),(0,d.jsx)("button",{type:"button",className:"toggle-password-button",onClick:()=>$(!q),"aria-label":q?"パスワードを非表示":"パスワードを表示",children:(0,d.jsx)("img",{src:q?"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwIiB6b29tQW5kUGFuPSJtYWduaWZ5IiB2aWV3Qm94PSIwIDAgNzUgNzQuOTk5OTk3IiBoZWlnaHQ9IjEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmVyc2lvbj0iMS4wIj48ZGVmcz48Y2xpcFBhdGggaWQ9IjgyMmM0YzQ0ODIiPjxwYXRoIGQ9Ik0gMCAxMy4wNzgxMjUgTCA3NSAxMy4wNzgxMjUgTCA3NSA2MS44MjgxMjUgTCAwIDYxLjgyODEyNSBaIE0gMCAxMy4wNzgxMjUgIiBjbGlwLXJ1bGU9Im5vbnplcm8iLz48L2NsaXBQYXRoPjwvZGVmcz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48ZyBjbGlwLXBhdGg9InVybCgjODIyYzRjNDQ4MikiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0gNzMuODc4OTA2IDM0LjYyODkwNiBDIDY5Ljg1OTM3NSAyOC4yMTA5MzggNTguMTkxNDA2IDEzLjA3ODEyNSAzNy41IDEzLjA3ODEyNSBDIDE2LjgxMjUgMTMuMDc4MTI1IDUuMTQ0NTMxIDI4LjIxMDkzOCAxLjEyNSAzNC42Mjg5MDYgQyAwLjA0Mjk2ODggMzYuMzU1NDY5IDAuMDQyOTY4OCAzOC41NTA3ODEgMS4xMjUgNDAuMjc3MzQ0IEMgNS4xNDQ1MzEgNDYuNjk1MzEyIDE2LjgxMjUgNjEuODI4MTI1IDM3LjUgNjEuODI4MTI1IEMgNTguMTkxNDA2IDYxLjgyODEyNSA2OS44NTkzNzUgNDYuNjk1MzEyIDczLjg3ODkwNiA0MC4yNzczNDQgQyA3NC45NjA5MzggMzguNTUwNzgxIDc0Ljk2MDkzOCAzNi4zNTU0NjkgNzMuODc4OTA2IDM0LjYyODkwNiBaIE0gMzcuNSA1My4zNTkzNzUgQyAyOC42OTkyMTkgNTMuMzU5Mzc1IDIxLjU2MjUgNDYuMjM4MjgxIDIxLjU2MjUgMzcuNDUzMTI1IEMgMjEuNTYyNSAyOC42Njc5NjkgMjguNjk5MjE5IDIxLjU0Njg3NSAzNy41IDIxLjU0Njg3NSBDIDQ2LjMwNDY4OCAyMS41NDY4NzUgNTMuNDQxNDA2IDI4LjY2Nzk2OSA1My40NDE0MDYgMzcuNDUzMTI1IEMgNTMuNDQxNDA2IDQ2LjIzODI4MSA0Ni4zMDQ2ODggNTMuMzU5Mzc1IDM3LjUgNTMuMzU5Mzc1IFogTSA0Mi44MTY0MDYgMzQuODAwNzgxIEMgNDEuMzQ3NjU2IDM0LjgwMDc4MSA0MC4xNjAxNTYgMzMuNjEzMjgxIDQwLjE2MDE1NiAzMi4xNTIzNDQgQyA0MC4xNjAxNTYgMzEuNDI1NzgxIDQwLjQ1MzEyNSAzMC43NzczNDQgNDAuOTIxODc1IDMwLjI5Njg3NSBDIDM5Ljg4MjgxMiAyOS44MDA3ODEgMzguNzMwNDY5IDI5LjUgMzcuNSAyOS41IEMgMzMuMTAxNTYyIDI5LjUgMjkuNTMxMjUgMzMuMDU4NTk0IDI5LjUzMTI1IDM3LjQ1MzEyNSBDIDI5LjUzMTI1IDQxLjg0NzY1NiAzMy4xMDE1NjIgNDUuNDA2MjUgMzcuNSA0NS40MDYyNSBDIDQxLjkwMjM0NCA0NS40MDYyNSA0NS40NzI2NTYgNDEuODQ3NjU2IDQ1LjQ3MjY1NiAzNy40NTMxMjUgQyA0NS40NzI2NTYgMzYuMjI2NTYyIDQ1LjE2Nzk2OSAzNS4wNzgxMjUgNDQuNjcxODc1IDM0LjAzOTA2MiBDIDQ0LjE5MTQwNiAzNC41MDc4MTIgNDMuNTM5MDYyIDM0LjgwMDc4MSA0Mi44MTY0MDYgMzQuODAwNzgxIFogTSA0Mi44MTY0MDYgMzQuODAwNzgxICIgZmlsbC1vcGFjaXR5PSIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L2c+PC9zdmc+":n.A,alt:"","aria-hidden":"true"})})]}),"zip"===m&&(0,d.jsxs)("div",{className:"zip-search-wrapper",children:[(0,d.jsx)("input",{type:"text",value:W,placeholder:`${(0,o.__)("example","block-collections")}) 1234567`,className:"contact_text "+(W?"":"empty"),onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),(0,d.jsx)("button",{type:"button",onClick:async()=>{const e=await(0,r.fetchZipToAddress)(W);if(!e)return;const l=`${e.address1}${e.address2}${e.address3}`;K?(0,s.dispatch)(c.store).updateBlockAttributes(K.clientId,{inputValue:l}):alert((0,o.__)("The block to enter the address cannot be found.","block-collections"))},className:"zip-search-button",children:(0,o.__)("Address Search","block-collections")})]}),"number"===m&&(0,d.jsxs)("div",{className:"number-input-wrapper",children:[(0,d.jsx)("button",{type:"button",onClick:()=>{const e=Number(N.min),l=Number(N.max);let o=(parseInt(W,10)||0)-Number(N.step||1);o<e&&(o=e),o>l&&(o=l),H(o),t({inputValue:o})},children:"-"}),(0,d.jsx)("input",{type:"number",name:g,min:N.min,max:N.max,step:N.step,placeholder:Y?.includes("is-style-line")?V:"",className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=Number(N.min),o=Number(N.max);let n=e.target.value;if(""===n)return H(""),void t({inputValue:""});n=Number(n),isNaN(n)||(n<l&&(n=l),n>o&&(n=o),H(n),t({inputValue:n}))}}),(0,d.jsx)("button",{type:"button",onClick:()=>{const e=Number(N.min),l=Number(N.max);let o=(parseInt(W,10)||0)+Number(N.step||1);o>l&&(o=l),o<e&&(o=e),H(o),t({inputValue:o})},children:"+"})]}),"textarea"===m&&(0,d.jsx)("textarea",{ref:X,style:{height:Z},name:g,placeholder:Y?.includes("is-style-line")?V:x,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value,o=e.target.scrollHeight;H(l),F(`${o}px`),t({inputValue:l})}}),(0,d.jsx)(h,{attributes:{...l,isMobile:U},onChange:(e,l)=>t({[e]:l})})]})})]})}}}]);