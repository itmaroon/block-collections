"use strict";(self.webpackChunkblock_collections=self.webpackChunkblock_collections||[]).push([[282],{282:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var o=t(462),n=t(307),a=t(736),c=t(625),s=t(146),r=t(69),i=t(893),_=t(762);function b(e,l){(0,r.useDeepCompareEffect)((()=>{const t=document.getElementsByName("editor-canvas")[0];if(t){const o=t.contentDocument||t.contentWindow.document,a=new i.qH;(0,_.Dq)(a.collectStyles((0,n.createElement)(e,{attributes:l})));const c=a.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),s=o.createElement("style");return s.innerHTML=c,o.head.appendChild(s),()=>{o.head.removeChild(s)}}}),[l])}var u=t(175),d=t(609),m=t(622);const g={top:"10px",left:"10px",right:"10px",bottom:"10px"},p={top:"0px",left:"0px",right:"0px",bottom:"0px"},C=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function h(e){const{attributes:l,setAttributes:t}=e,{required:o,labelContent:c,font_style_label:s,bgColor_label:i,bgGradient_label:_,textColor_label:h,radius_label:E,border_label:k,padding_label:v,labelSpace:f,isMobile:y}=l;return b(m.Z,e.attributes),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.InspectorControls,{group:"settings"},(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Required Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,n.createElement)(d.PanelRow,{className:"labelRequierd_row"},(0,n.createElement)(d.ToggleControl,{label:(0,a.__)("Required input","block-collections"),checked:o.flg,onChange:e=>{const l={...o,flg:e};t({required:l})}})),o.flg&&(0,n.createElement)(d.PanelRow,null,(0,n.createElement)(d.TextControl,{label:(0,a.__)("Show 'required'","block-collections"),value:o.display,isPressEnterToChange:!0,onChange:e=>{const l={...o,display:e};t({required:l})}}))),(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Label Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,n.createElement)(d.PanelRow,{className:"labelInfo_row"},(0,n.createElement)(d.TextControl,{label:(0,a.__)("Text of Label","block-collections"),labelPosition:"top",value:c,isPressEnterToChange:!0,onChange:e=>t({labelContent:e})})))),(0,n.createElement)(u.InspectorControls,{group:"styles"},(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Label style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,n.createElement)(r.TypographyControls,{title:(0,a.__)("Typography","block-collections"),fontStyle:s,onChange:e=>{t({font_style_label:e})},isMobile:y,initialOpen:!1}),(0,n.createElement)(u.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Label Color Setting","block-collections"),settings:[{colorValue:h,label:(0,a.__)("Choose Text color","block-collections"),onColorChange:e=>t({textColor_label:e})},{colorValue:i,gradientValue:_,label:(0,a.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor_label:e}),onGradientChange:e=>t({bgGradient_label:e})}]}),(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl"},(0,n.createElement)(d.__experimentalBorderBoxControl,{onChange:e=>t({border_label:e}),value:k,allowReset:!0,resetValues:p}),(0,n.createElement)(u.__experimentalBorderRadiusControl,{values:E,onChange:e=>t({radius_label:"string"==typeof e?{value:e}:e})})),(0,n.createElement)(d.__experimentalBoxControl,{label:(0,a.__)("Padding settings","block-collections"),values:v,onChange:e=>t({padding_label:e}),units:C,allowReset:!0,resetValues:g}),(0,n.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>t({labelSpace:e}),label:(0,a.__)("Spacing with textbox","block-collections"),value:f}))),(0,n.createElement)(m.Z,{attributes:l},o.flg?(0,n.createElement)(n.Fragment,null,c,(0,n.createElement)("span",null,"(",o.display,")")):c))}let E=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,l)=>e+((l&=63)<36?l.toString(36):l<62?(l-26).toString(36).toUpperCase():l>62?"-":"_")),"");const k={top:"10px",left:"10px",right:"10px",bottom:"10px"},v={top:"0px",left:"0px",right:"0px",bottom:"0px"},f=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function y(e){let{attributes:l,setAttributes:t,context:i}=e;const{inputName:_,selPattern:m,selectValues:g,selectedValues:p,folder_val:C,required:y,bgColor:x,optionColor:S,hoverBgColor:w,font_style_option:B,default_pos:P,mobile_pos:V,bgSelectColor:N,bgSelectGradient:R,radius_value:T,border_value:O,labelContent:q,labelWidth:G,labelVertAlign:M,font_style_label:D,bgColor_label:I,bgGradient_label:A,textColor_label:L,radius_label:F,border_label:W,padding_label:J,labelSpace:U,shadow_element:Z,shadow_result:H,is_shadow:Y,className:j}=l,z=(0,r.useIsIframeMobile)(),K=(0,n.useRef)(null),Q=(0,u.useBlockProps)({ref:K,style:{backgroundColor:x}}),X=(0,r.useElementBackgroundColor)(K,Q.style);(0,n.useEffect)((()=>{if(X){t({shadow_element:{...Z,baseColor:X}});const e=(0,r.ShadowElm)({...Z,baseColor:X});e&&t({shadow_result:e.style})}}),[X]),b(c.J,l);const $="multi"===m?{multiple:!0}:{};b(c.J,l);const ee=i["itmar/label_width"]||"auto";(0,n.useEffect)((()=>{t({labelWidth:ee})}),[ee]),(0,n.useEffect)((()=>{t({selectedValues:[]})}),[m]);const[le,te]=(0,n.useState)(!1),[oe,ne]=(0,n.useState)(null),[ae,ce]=(0,n.useState)(!1),[se,re]=(0,n.useState)(null),ie=()=>te(!0),_e=()=>te(!1),be=()=>{ce(!1),re(null)},ue=(e,l)=>{ne((t=>({...t,[e]:l})))};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(u.InspectorControls,{group:"settings"},(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Select Element Settings","block-collections"),initialOpen:!0,className:"select_design_ctrl"},(0,n.createElement)(d.PanelRow,null,(0,n.createElement)(d.TextControl,{label:(0,a.__)("name attribute name","block-collections"),value:_,onChange:e=>t({inputName:e})})),(0,n.createElement)("label",{className:"components-base-control__label"},(0,a.__)("Select Pattern","block-collections")),(0,n.createElement)(d.PanelRow,{className:"itmar_select_row"},(0,n.createElement)(d.RadioControl,{selected:m,options:[{label:(0,a.__)("Single Select","block-collections"),value:"single"},{label:(0,a.__)("Nulti Select","block-collections"),value:"multi"}],onChange:e=>{t({selPattern:e})}})),(0,n.createElement)(d.TextControl,{label:(0,a.__)("Place Folder Display","block-collections"),value:C,onChange:e=>t({folder_val:e})}),(0,n.createElement)(d.PanelBody,{className:"itmar_notice_select_panel",title:(0,a.__)("Option info Setting","block-collections")},(0,n.createElement)(d.Button,{label:(0,a.__)("add","block-collections"),icon:"insert",onClick:()=>{const e=E(5);ne({id:e,value:"",label:"",classname:""}),ie()}}),g.map((e=>(0,n.createElement)(d.Notice,{key:e.id,status:"info",onRemove:()=>(e=>{re(e),ce(!0)})(e)},(0,n.createElement)("span",{onClick:()=>(e=>{ne(e),ie()})(e)},e.label))))))),(0,n.createElement)(u.InspectorControls,{group:"styles"},(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Global settings","block-collections"),initialOpen:!1,className:"select_design_ctrl"},(0,n.createElement)(u.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Background Color Setting","block-collections"),settings:[{colorValue:x,label:(0,a.__)("Choose Block Background color","block-collections"),onColorChange:e=>t({bgColor:e})},{colorValue:N,gradientValue:R,label:(0,a.__)("Choose Select Background color","block-collections"),onColorChange:e=>{t({bgSelectColor:void 0===e?"":e})},onGradientChange:e=>t({bgSelectGradient:e})}]}),(0,n.createElement)(d.__experimentalBoxControl,{label:z?(0,a.__)("Margin settings(mobile)","block-collections"):(0,a.__)("Margin settings(desk top)","block-collections"),values:z?V.margin_value:P.margin_value,onChange:e=>{t(z?{mobile_pos:{...V,margin_value:e}}:{default_pos:{...P,margin_value:e}})},units:f,allowReset:!0,resetValues:k}),(0,n.createElement)(d.__experimentalBoxControl,{label:z?(0,a.__)("Padding settings(mobile)","block-collections"):(0,a.__)("Padding settings(desk top)","block-collections"),values:z?V.padding_value:P.padding_value,onChange:e=>{t(z?{mobile_pos:{...V,padding_value:e}}:{default_pos:{...P,padding_value:e}})},units:f,allowReset:!0,resetValues:k}),(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl"},(0,n.createElement)(d.__experimentalBorderBoxControl,{colors:[{color:"#72aee6"},{color:"#000"},{color:"#fff"}],onChange:e=>t({border_value:e}),value:O,allowReset:!0,resetValues:v}),(0,n.createElement)(u.__experimentalBorderRadiusControl,{values:T,onChange:e=>t({radius_value:"string"==typeof e?{value:e}:e})})),(0,n.createElement)(d.ToggleControl,{label:(0,a.__)("Is Shadow","block-collections"),checked:Y,onChange:e=>{t({is_shadow:e})}}),Y&&(0,n.createElement)(r.ShadowStyle,{shadowStyle:{...Z},onChange:(e,l)=>{t({shadow_result:e.style}),t({shadow_element:l})}})),(0,n.createElement)(d.PanelBody,{title:(0,a.__)("Option Style Settings","block-collections"),initialOpen:!1,className:"select_design_ctrl"},(0,n.createElement)(r.TypographyControls,{title:(0,a.__)("Typography","block-collections"),fontStyle:B,onChange:e=>{t({font_style_option:e})},isMobile:z,initialOpen:!1}),(0,n.createElement)(u.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Option Color Setting","block-collections"),settings:[{colorValue:S,label:(0,a.__)("Choose Text color","block-collections"),onColorChange:e=>t({optionColor:e})},{colorValue:w,label:(0,a.__)("Choose Background color on mouse hover","block-collections"),onColorChange:e=>t({hoverBgColor:e})}]}))),le&&(0,n.createElement)(d.Modal,{title:(0,a.__)("Option Info Edit","block-collections"),onRequestClose:_e},(0,n.createElement)(d.TextControl,{label:(0,a.__)("Display Label","block-collections"),value:oe.label,onChange:e=>ue("label",e)}),(0,n.createElement)(d.TextControl,{label:(0,a.__)("Option Value","block-collections"),value:oe.value,onChange:e=>ue("value",e)}),(0,n.createElement)(d.TextControl,{label:(0,a.__)("Class Name","block-collections"),value:oe.classname,onChange:e=>ue("classname",e)}),(0,n.createElement)(d.Button,{variant:"primary",onClick:()=>{if(oe&&g.some((e=>e.id===oe.id))){const e=g.map((e=>e.id===oe.id?oe:e));t({selectValues:e})}else t({selectValues:[...g,oe]});_e()}},(0,a.__)("Save Changes","block-collections"))),ae&&(0,n.createElement)(d.Modal,{title:(0,a.__)("Confirm Deletion","block-collections"),onRequestClose:be},(0,n.createElement)("p",null,(0,a.__)("Are you sure you want to delete this item?","block-collections")),(0,n.createElement)(d.Button,{variant:"primary",onClick:()=>{se&&(e=>{const l=g.filter((l=>l.id!==e));t({selectValues:l})})(se.id),be()}},(0,a.__)("Yes, Delete","block-collections")),(0,n.createElement)(d.Button,{variant:"secondary",onClick:be},(0,a.__)("Cancel","block-collections"))),(0,n.createElement)("div",Q,(0,n.createElement)(c.J,{attributes:l},(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.M,{onOptionSelect:e=>{if(null==e)return void t({selectedValues:[]});if(p.includes(e))return;const l="multi"===m?[...p,e]:[e];t({selectedValues:l})},onOptionDeselect:e=>{const l=p.filter((l=>l!==e));t({selectedValues:l})}},(0,n.createElement)("select",(0,o.Z)({class:"nomal"},$,{name:_,"data-placeholder":C}),"single"===m&&(0,n.createElement)("option",{value:""},(0,a.__)("Please Select.","block-collections")),g.map((e=>(0,n.createElement)("option",{id:e.id,className:e.classname,value:e.value,selected:p.includes(e.id)},e.label))))),(0,n.createElement)(h,{attributes:{required:y,labelContent:q,font_style_label:D,bgColor_label:I,bgGradient_label:A,textColor_label:L,radius_label:F,border_label:W,padding_label:J,labelSpace:U,labelWidth:G,labelVertAlign:M,shadow_result:H,is_shadow:Y,isMobile:z,className:j},setAttributes:t})))))}}}]);