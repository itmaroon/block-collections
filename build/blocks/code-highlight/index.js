!function(){"use strict";var e,t={5598:function(e,t,n){n.d(t,{Z:function(){return s}});var l=n(9307),o=n(5736),a=n(2175),r=n(5609);const i={top:"10px",left:"10px",right:"10px",bottom:"10px"},c=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function s(e){let{attributes:t,setAttributes:n}=e;const{codeArea:s,linenums:u,linenumsStart:m,lang:p,skin:d,fileName:_,isEditMode:f,margin_value:b,padding_value:g,align:v}=t,w=(0,l.useRef)(null),E=()=>{if(""===s)return null;let e="";v&&(e+=" align"+v),d&&(e+=" "+d),_&&(e+=" filename_wrapper");let t="";return u&&(t=" linenums",1!==m&&(t+=":"+m)),p&&(t+=" lang-"+p),(0,l.createElement)("div",{className:"wp-block-itmar-code-highlight"+e},_&&(0,l.createElement)("p",{className:"file_name"},_),(0,l.createElement)("pre",{ref:w,className:"prettyprint"+t,style:{overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"}},s))},[h,k]=(0,l.useState)(E()),y={margin:`${b.top} ${b.right} ${b.bottom} ${b.left}`,padding:`${g.top} ${g.right} ${g.bottom} ${g.left}`},x=(0,a.useBlockProps)({style:y});(0,l.useEffect)((()=>{if(null!==w.current&&"undefined"!=typeof PR){w.current.classList.contains("prettyprinted")||(w.current.innerText=s);const e=document.getElementsByName("editor-canvas")[0];if(e){const t=e.contentDocument||e.contentWindow.document;"complete"===t.readyState?t.defaultView.PR&&t.defaultView.PR.prettyPrint():e.addEventListener("load",(()=>{t.defaultView.PR&&t.defaultView.PR.prettyPrint()}))}else PR.prettyPrint()}}),[f,h]),(0,l.useEffect)((()=>{const e=E();k(e)}),[d,u,m,p,_]);let C=s.split(/\r|\r\n|\n/).length>3?s.split(/\r|\r\n|\n/).length:3;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a.InspectorControls,null,(0,l.createElement)(r.PanelBody,{title:(0,o.__)("SyntaxHighLight Settings","itmar_block_collections"),initialOpen:!0},(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.ToggleControl,{label:u?(0,o.__)("Line Number(display)","itmar_block_collections"):(0,o.__)("Line Number(hidden)","itmar_block_collections"),checked:u,onChange:e=>n({linenums:e})})),u&&(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.TextControl,{label:(0,o.__)("Starting Line Number","itmar_block_collections"),type:"number",value:m,onChange:e=>n({linenumsStart:parseInt(e)})})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("languege","itmar_block_collections"),value:p,options:[{label:"Default",value:""},{label:"CSS",value:"css"}],onChange:e=>n({lang:e})})),(0,l.createElement)(r.PanelRow,null,(0,l.createElement)(r.SelectControl,{label:(0,o.__)("Skin","itmar_block_collections"),value:d,options:[{label:"Basic",value:""},{label:"Desert",value:"desert"},{label:"Doxy",value:"doxy"},{label:"Sons-of-obsidian",value:"sons-of-obsidian"},{label:"Sunburst",value:"sunburst"}],onChange:e=>n({skin:e})}))),(0,l.createElement)(r.PanelBody,{title:(0,o.__)("Spacing Settings","itmar_block_collections"),initialOpen:!0},(0,l.createElement)(r.__experimentalBoxControl,{label:(0,o.__)("Margin settings","itmar_block_collections"),values:b,onChange:e=>n({margin_value:e}),units:c,allowReset:!0,resetValues:i}),(0,l.createElement)(r.__experimentalBoxControl,{label:(0,o.__)("Padding settings","itmar_block_collections"),values:g,onChange:e=>n({padding_value:e}),units:c,allowReset:!0,resetValues:i}))),(0,l.createElement)(a.BlockControls,null,(0,l.createElement)(r.Toolbar,null,(0,l.createElement)(r.Button,{label:f?(0,o.__)("Preview","itmar_block_collections"):(0,o.__)("Edit","itmar_block_collections"),icon:f?"format-image":"edit",className:"edit_mode",onClick:()=>{n({isEditMode:!f})}}))),f&&(0,l.createElement)("div",x,(0,l.createElement)(r.TextControl,{label:(0,o.__)("File Name","itmar_block_collections"),type:"string",className:"filename",value:_,onChange:e=>n({fileName:e})}),(0,l.createElement)(r.TextareaControl,{label:(0,o.__)("Code:","itmar_block_collections"),value:s,onChange:e=>n({codeArea:e}),rows:C})),!f&&(0,l.createElement)("div",x,(0,l.createElement)("div",{className:"preview_wrapper"},(0,l.createElement)(r.Button,{onClick:()=>n({isEditMode:!0}),variant:"link",icon:"edit"},(0,o.__)("edit mode","itmar_block_collections")),h)))}},1626:function(e,t,n){var l=n(5736),o=n(4981),a=n(5598),r=n(8386),i=n(9131);(0,o.registerBlockType)(i.u2,{description:(0,l.__)("A block that highlights code","itmar_block_collections"),edit:a.Z,save:r.Z})},8386:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(9307),o=n(2175),a=n(5736);function r(e){let{attributes:t}=e;const{codeArea:n,linenums:r,linenumsStart:i,lang:c,skin:s,fileName:u,margin_value:m,padding_value:p,align:d,add_style:_}=t,f={margin:`${m.top} ${m.right} ${m.bottom} ${m.left}`,padding:`${p.top} ${p.right} ${p.bottom} ${p.left}`},b=o.useBlockProps.save({style:f});if(""===n)return null;let g="";d&&(g+=" align"+d),s&&(g+=" "+s),u&&(g+=" filename_wrapper");let v="";return r&&(v=" linenums",1!==i&&(v+=":"+i)),c&&(v+=" lang-"+c),(0,l.createElement)("div",b,(0,l.createElement)("div",{className:g,style:_},u&&(0,l.createElement)("p",{className:"file_name"},u),(0,l.createElement)("pre",{className:"prettyprint"+v},n),(0,l.createElement)("button",{className:"code_copy"},(0,a.__)("Copy","itmar_block_collections"))))}},2175:function(e){e.exports=window.wp.blockEditor},4981:function(e){e.exports=window.wp.blocks},5609:function(e){e.exports=window.wp.components},9307:function(e){e.exports=window.wp.element},5736:function(e){e.exports=window.wp.i18n},9131:function(e){e.exports=JSON.parse('{"u2":"itmar/code-highlight"}')}},n={};function l(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=function(t,n,o,a){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],a=e[u][2];for(var i=!0,c=0;c<n.length;c++)(!1&a||r>=a)&&Object.keys(l.O).every((function(e){return l.O[e](n[c])}))?n.splice(c--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,o,a]},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={941:0,140:0};l.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,r=n[0],i=n[1],c=n[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)l.o(i,o)&&(l.m[o]=i[o]);if(c)var u=c(l)}for(t&&t(n);s<r.length;s++)a=r[s],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},n=self.webpackChunkblock_collections=self.webpackChunkblock_collections||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=l.O(void 0,[140],(function(){return l(1626)}));o=l.O(o)}();
//# sourceMappingURL=index.js.map