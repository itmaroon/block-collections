(()=>{"use strict";var e,t={4677:(e,t,l)=>{l.d(t,{A:()=>u});var n=l(1609),o=l(7723),a=l(4715),r=l(6427),i=l(6087);const c={top:"10px",left:"10px",right:"10px",bottom:"10px"},s=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function u({attributes:e,setAttributes:t}){const{codeArea:l,linenums:u,linenumsStart:m,lang:p,skin:d,fileName:b,isEditMode:g,margin_value:v,padding_value:_,align:f}=e,w=(0,i.useRef)(null),h=()=>{if(""===l)return null;let e="";f&&(e+=" align"+f),d&&(e+=" "+d),b&&(e+=" filename_wrapper");let t="";return u&&(t=" linenums",1!==m&&(t+=":"+m)),p&&(t+=" lang-"+p),(0,n.createElement)("div",{className:"wp-block-itmar-code-highlight"+e},b&&(0,n.createElement)("p",{className:"file_name"},b),(0,n.createElement)("pre",{ref:w,className:"prettyprint"+t,style:{overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"}},l))},[E,k]=(0,i.useState)(h()),y={margin:`${v.top} ${v.right} ${v.bottom} ${v.left}`,padding:`${_.top} ${_.right} ${_.bottom} ${_.left}`},x=(0,a.useBlockProps)({style:y});(0,i.useEffect)((()=>{if(null!==w.current&&"undefined"!=typeof PR){w.current.classList.contains("prettyprinted")||(w.current.innerText=l);const e=document.getElementsByName("editor-canvas")[0];if(e){const t=e.contentDocument||e.contentWindow.document;"complete"===t.readyState?t.defaultView.PR&&t.defaultView.PR.prettyPrint():e.addEventListener("load",(()=>{t.defaultView.PR&&t.defaultView.PR.prettyPrint()}))}else PR.prettyPrint()}}),[g,E]),(0,i.useEffect)((()=>{const e=h();k(e)}),[d,u,m,p,b,l]);let C=l.split(/\r|\r\n|\n/).length>3?l.split(/\r|\r\n|\n/).length:3;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(r.PanelBody,{title:(0,o.__)("SyntaxHighLight Settings","block-collections"),initialOpen:!0},(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.ToggleControl,{label:u?(0,o.__)("Line Number(display)","block-collections"):(0,o.__)("Line Number(hidden)","block-collections"),checked:u,onChange:e=>t({linenums:e})})),u&&(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.TextControl,{label:(0,o.__)("Starting Line Number","block-collections"),type:"number",value:m,onChange:e=>t({linenumsStart:parseInt(e)})})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.SelectControl,{label:(0,o.__)("languege","block-collections"),value:p,options:[{label:"Default",value:""},{label:"CSS",value:"css"}],onChange:e=>t({lang:e})})),(0,n.createElement)(r.PanelRow,null,(0,n.createElement)(r.SelectControl,{label:(0,o.__)("Skin","block-collections"),value:d,options:[{label:"Basic",value:""},{label:"Desert",value:"desert"},{label:"Doxy",value:"doxy"},{label:"Sons-of-obsidian",value:"sons-of-obsidian"},{label:"Sunburst",value:"sunburst"}],onChange:e=>t({skin:e})}))),(0,n.createElement)(r.PanelBody,{title:(0,o.__)("Spacing Settings","block-collections"),initialOpen:!0},(0,n.createElement)(r.__experimentalBoxControl,{label:(0,o.__)("Margin settings","block-collections"),values:v,onChange:e=>t({margin_value:e}),units:s,allowReset:!0,resetValues:c}),(0,n.createElement)(r.__experimentalBoxControl,{label:(0,o.__)("Padding settings","block-collections"),values:_,onChange:e=>t({padding_value:e}),units:s,allowReset:!0,resetValues:c}))),(0,n.createElement)(a.BlockControls,null,(0,n.createElement)(r.Toolbar,null,(0,n.createElement)(r.Button,{label:g?(0,o.__)("Preview","block-collections"):(0,o.__)("Edit","block-collections"),icon:g?"format-image":"edit",className:"edit_mode",onClick:()=>{t({isEditMode:!g})}}))),g&&(0,n.createElement)("div",{...x},(0,n.createElement)(r.TextControl,{label:(0,o.__)("File Name","block-collections"),type:"string",className:"filename",value:b,onChange:e=>t({fileName:e})}),(0,n.createElement)(r.TextareaControl,{label:(0,o.__)("Code:","block-collections"),value:l,onChange:e=>{t({codeArea:e}),console.log(e)},rows:C})),!g&&(0,n.createElement)("div",{...x},(0,n.createElement)("div",{className:"preview_wrapper"},(0,n.createElement)(r.Button,{onClick:()=>t({isEditMode:!0}),variant:"link",icon:"edit"},(0,o.__)("edit mode","block-collections")),E)))}},2557:(e,t,l)=>{var n=l(7723),o=l(4997),a=l(4677),r=l(2696),i=l(142);(0,o.registerBlockType)(i.UU,{description:(0,n.__)("A block that highlights code.","block-collections"),edit:a.A,save:r.A})},2696:(e,t,l)=>{l.d(t,{A:()=>r});var n=l(1609),o=l(4715),a=l(7723);function r({attributes:e}){const{codeArea:t,linenums:l,linenumsStart:r,lang:i,skin:c,fileName:s,margin_value:u,padding_value:m,align:p,add_style:d}=e,b={margin:`${u.top} ${u.right} ${u.bottom} ${u.left}`,padding:`${m.top} ${m.right} ${m.bottom} ${m.left}`},g=o.useBlockProps.save({style:b});if(""===t)return null;let v="";p&&(v+=" align"+p),c&&(v+=" "+c),s&&(v+=" filename_wrapper");let _="";return l&&(_=" linenums",1!==r&&(_+=":"+r)),i&&(_+=" lang-"+i),(0,n.createElement)("div",{...g},(0,n.createElement)("div",{className:v,style:d},s&&(0,n.createElement)("p",{className:"file_name"},s),(0,n.createElement)("pre",{className:"prettyprint"+_},t),(0,n.createElement)("button",{className:"code_copy"},(0,a.__)("Copy","block-collections"))))}},1609:e=>{e.exports=window.React},4715:e=>{e.exports=window.wp.blockEditor},4997:e=>{e.exports=window.wp.blocks},6427:e=>{e.exports=window.wp.components},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n},142:e=>{e.exports=JSON.parse('{"UU":"itmar/code-highlight"}')}},l={};function n(e){var o=l[e];if(void 0!==o)return o.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,l,o,a)=>{if(!l){var r=1/0;for(u=0;u<e.length;u++){for(var[l,o,a]=e[u],i=!0,c=0;c<l.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](l[c])))?l.splice(c--,1):(i=!1,a<r&&(r=a));if(i){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[l,o,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={53:0,257:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var o,a,[r,i,c]=l,s=0;if(r.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var u=c(n)}for(t&&t(l);s<r.length;s++)a=r[s],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},l=globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=n.O(void 0,[257],(()=>n(2557)));o=n.O(o)})();
//# sourceMappingURL=index.js.map