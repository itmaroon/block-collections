(()=>{"use strict";var e,l={484:()=>{const e=window.wp.i18n,l=window.wp.blocks,t=window.React,n=window.wp.blockEditor,a=window.wp.components,o=window.wp.element,i={top:"10px",left:"10px",right:"10px",bottom:"10px"},r=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}],c=JSON.parse('{"UU":"itmar/code-highlight"}');(0,l.registerBlockType)(c.UU,{description:(0,e.__)("A block that highlights code.","block-collections"),edit:function({attributes:l,setAttributes:c}){const{codeArea:s,linenums:u,linenumsStart:m,lang:d,skin:p,fileName:b,isEditMode:g,margin_value:v,padding_value:_,align:f}=l,w=(0,o.useRef)(null),h=()=>{if(""===s)return null;let e="";f&&(e+=" align"+f),p&&(e+=" "+p),b&&(e+=" filename_wrapper");let l="";return u&&(l=" linenums",1!==m&&(l+=":"+m)),d&&(l+=" lang-"+d),(0,t.createElement)("div",{className:"wp-block-itmar-code-highlight"+e},b&&(0,t.createElement)("p",{className:"file_name"},b),(0,t.createElement)("pre",{ref:w,className:"prettyprint"+l,style:{overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"}},s))},[E,k]=(0,o.useState)(h()),y={margin:`${v.top} ${v.right} ${v.bottom} ${v.left}`,padding:`${_.top} ${_.right} ${_.bottom} ${_.left}`},C=(0,n.useBlockProps)({style:y});(0,o.useEffect)((()=>{if(null!==w.current&&"undefined"!=typeof PR){w.current.classList.contains("prettyprinted")||(w.current.innerText=s);const e=document.getElementsByName("editor-canvas")[0];if(e){const l=e.contentDocument||e.contentWindow.document;"complete"===l.readyState?l.defaultView.PR&&l.defaultView.PR.prettyPrint():e.addEventListener("load",(()=>{l.defaultView.PR&&l.defaultView.PR.prettyPrint()}))}else PR.prettyPrint()}}),[g,E]),(0,o.useEffect)((()=>{const e=h();k(e)}),[p,u,m,d,b,s]);let x=s.split(/\r|\r\n|\n/).length>3?s.split(/\r|\r\n|\n/).length:3;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:(0,e.__)("SyntaxHighLight Settings","block-collections"),initialOpen:!0},(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.ToggleControl,{label:u?(0,e.__)("Line Number(display)","block-collections"):(0,e.__)("Line Number(hidden)","block-collections"),checked:u,onChange:e=>c({linenums:e})})),u&&(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.TextControl,{label:(0,e.__)("Starting Line Number","block-collections"),type:"number",value:m,onChange:e=>c({linenumsStart:parseInt(e)})})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:(0,e.__)("languege","block-collections"),value:d,options:[{label:"Default",value:""},{label:"CSS",value:"css"}],onChange:e=>c({lang:e})})),(0,t.createElement)(a.PanelRow,null,(0,t.createElement)(a.SelectControl,{label:(0,e.__)("Skin","block-collections"),value:p,options:[{label:"Basic",value:""},{label:"Desert",value:"desert"},{label:"Doxy",value:"doxy"},{label:"Sons-of-obsidian",value:"sons-of-obsidian"},{label:"Sunburst",value:"sunburst"}],onChange:e=>c({skin:e})}))),(0,t.createElement)(a.PanelBody,{title:(0,e.__)("Spacing Settings","block-collections"),initialOpen:!0},(0,t.createElement)(a.__experimentalBoxControl,{label:(0,e.__)("Margin settings","block-collections"),values:v,onChange:e=>c({margin_value:e}),units:r,allowReset:!0,resetValues:i}),(0,t.createElement)(a.__experimentalBoxControl,{label:(0,e.__)("Padding settings","block-collections"),values:_,onChange:e=>c({padding_value:e}),units:r,allowReset:!0,resetValues:i}))),(0,t.createElement)(n.BlockControls,null,(0,t.createElement)(a.Toolbar,null,(0,t.createElement)(a.Button,{label:g?(0,e.__)("Preview","block-collections"):(0,e.__)("Edit","block-collections"),icon:g?"format-image":"edit",className:"edit_mode",onClick:()=>{c({isEditMode:!g})}}))),g&&(0,t.createElement)("div",{...C},(0,t.createElement)(a.TextControl,{label:(0,e.__)("File Name","block-collections"),type:"string",className:"filename",value:b,onChange:e=>c({fileName:e})}),(0,t.createElement)(a.TextareaControl,{label:(0,e.__)("Code:","block-collections"),value:s,onChange:e=>{c({codeArea:e}),console.log(e)},rows:x})),!g&&(0,t.createElement)("div",{...C},(0,t.createElement)("div",{className:"preview_wrapper"},(0,t.createElement)(a.Button,{onClick:()=>c({isEditMode:!0}),variant:"link",icon:"edit"},(0,e.__)("edit mode","block-collections")),E)))},save:function({attributes:l}){const{codeArea:a,linenums:o,linenumsStart:i,lang:r,skin:c,fileName:s,margin_value:u,padding_value:m,align:d,add_style:p}=l,b={margin:`${u.top} ${u.right} ${u.bottom} ${u.left}`,padding:`${m.top} ${m.right} ${m.bottom} ${m.left}`},g=n.useBlockProps.save({style:b});if(""===a)return null;let v="";d&&(v+=" align"+d),c&&(v+=" "+c),s&&(v+=" filename_wrapper");let _="";return o&&(_=" linenums",1!==i&&(_+=":"+i)),r&&(_+=" lang-"+r),(0,t.createElement)("div",{...g},(0,t.createElement)("div",{className:v,style:p},s&&(0,t.createElement)("p",{className:"file_name"},s),(0,t.createElement)("pre",{className:"prettyprint"+_},a),(0,t.createElement)("button",{className:"code_copy"},(0,e.__)("Copy","block-collections"))))}})}},t={};function n(e){var a=t[e];if(void 0!==a)return a.exports;var o=t[e]={exports:{}};return l[e](o,o.exports,n),o.exports}n.m=l,e=[],n.O=(l,t,a,o)=>{if(!t){var i=1/0;for(u=0;u<e.length;u++){for(var[t,a,o]=e[u],r=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](t[c])))?t.splice(c--,1):(r=!1,o<i&&(i=o));if(r){e.splice(u--,1);var s=a();void 0!==s&&(l=s)}}return l}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[t,a,o]},n.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={53:0,257:0};n.O.j=l=>0===e[l];var l=(l,t)=>{var a,o,[i,r,c]=t,s=0;if(i.some((l=>0!==e[l]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(c)var u=c(n)}for(l&&l(t);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},t=globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))})();var a=n.O(void 0,[257],(()=>n(484)));a=n.O(a)})();