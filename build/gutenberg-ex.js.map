{"version":3,"file":"gutenberg-ex.js","mappings":"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","sources":["webpack://block-collections/external window [\"wp\",\"blockEditor\"]","webpack://block-collections/external window [\"wp\",\"components\"]","webpack://block-collections/external window [\"wp\",\"compose\"]","webpack://block-collections/external window [\"wp\",\"element\"]","webpack://block-collections/external window [\"wp\",\"hooks\"]","webpack://block-collections/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://block-collections/webpack/bootstrap","webpack://block-collections/webpack/runtime/compat get default export","webpack://block-collections/webpack/runtime/define property getters","webpack://block-collections/webpack/runtime/hasOwnProperty shorthand","webpack://block-collections/./src/blocks/gutenberg-ex.js"],"sourcesContent":["module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","/**\r\n * コアブロックカスタマイズ高階コンポーネント\r\n *\r\n */\r\nimport { addFilter } from '@wordpress/hooks';\r\nimport { createHigherOrderComponent } from '@wordpress/compose';\r\nimport {\r\n  InspectorControls,\r\n} from '@wordpress/block-editor';\r\n\r\nimport {\r\n  Button,\r\n  Panel,\r\n  PanelBody,\r\n  PanelRow,\r\n  ToggleControl,\r\n  RangeControl,\r\n  RadioControl,\r\n  TextControl,\r\n  __experimentalBoxControl as BoxControl,\r\n  __experimentalUnitControl as UnitControl,\r\n  __experimentalBorderBoxControl as BorderBoxControl\r\n} from '@wordpress/components';\r\n\r\n//BlockEditカスタムフック（インスペクターの追加）\r\nconst withInspectorControl = createHigherOrderComponent((BlockEdit) => {\r\n  //スペースのリセットバリュー\r\n  const padding_resetValues = {\r\n    top: '1em',\r\n    left: '1em',\r\n    right: '1em',\r\n    bottom: '1em',\r\n  }\r\n\r\n  const units = [\r\n    { value: 'px', label: 'px' },\r\n    { value: 'em', label: 'em' },\r\n    { value: 'rem', label: 'rem' },\r\n  ];\r\n\r\n  return (props) => {\r\n    if (props.name === 'core/paragraph') {\r\n      const {\r\n        lineHeight,\r\n        margin_val,\r\n        padding_val\r\n      } = props.attributes;\r\n      const setAttributes = props.setAttributes;\r\n      return (\r\n        <>\r\n          <BlockEdit {...props} />\r\n          <InspectorControls group=\"styles\">\r\n            <PanelBody title=\"行間設定\">\r\n              <RangeControl\r\n                value={lineHeight}\r\n                label=\"lineHeight\"\r\n                max={3}\r\n                min={1}\r\n                step={.1}\r\n                onChange={(val) => setAttributes({ lineHeight: val })}\r\n                withInputField={true}\r\n              />\r\n            </PanelBody>\r\n            <PanelBody title=\"間隔設定\" initialOpen={false}>\r\n              <BoxControl\r\n                label=\"マージン設定\"\r\n                values={margin_val}\r\n                onChange={newValue => setAttributes({ margin_val: newValue })}\r\n                units={units}\t// 許可する単位\r\n                allowReset={true}\t// リセットの可否\r\n                resetValues={padding_resetValues}\t// リセット時の値\r\n\r\n              />\r\n\r\n              <BoxControl\r\n                label=\"パティング設定\"\r\n                values={padding_val}\r\n                onChange={newValue => setAttributes({ padding_val: newValue })}\r\n                units={units}\t// 許可する単位\r\n                allowReset={true}\t// リセットの可否\r\n                resetValues={padding_resetValues}\t// リセット時の値\r\n\r\n              />\r\n            </PanelBody>\r\n          </InspectorControls>\r\n        </>\r\n      );\r\n    }\r\n    return <BlockEdit {...props} />;\r\n  };\r\n}, 'withInspectorControl');\r\n\r\naddFilter('editor.BlockEdit', 'block-collections/with-inspector-control', withInspectorControl);\r\n\r\n//block登録フック（カスタム属性の追加）\r\nfunction addLineHeightAttribute(settings, name) {\r\n  if (name !== 'core/paragraph') {\r\n    return settings;\r\n  }\r\n\r\n  return lodash.assign({}, settings, {\r\n    attributes: lodash.assign({}, settings.attributes, {\r\n      lineHeight: {\r\n        type: 'number',\r\n        default: 1.6,\r\n      },\r\n      margin_val: {\r\n        type: \"object\",\r\n        default: {\r\n          top: \"1em\",\r\n          left: \"1em\",\r\n          bottom: \"1em\",\r\n          right: \"1em\"\r\n        }\r\n      },\r\n      padding_val: {\r\n        type: \"object\",\r\n        default: {\r\n          top: \"1em\",\r\n          left: \"1em\",\r\n          bottom: \"1em\",\r\n          right: \"1em\"\r\n        }\r\n      },\r\n    }),\r\n  });\r\n}\r\n\r\naddFilter(\r\n  'blocks.registerBlockType',\r\n  'block-collections/add-attribute',\r\n  addLineHeightAttribute\r\n);\r\n\r\n//BlockListBlockフック（ブロックの外観等の反映）\r\nconst applyExtraAttributesInEditor = createHigherOrderComponent((BlockListBlock) => {\r\n  return (props) => {\r\n    //propsを展開\r\n    const {\r\n      attributes,\r\n      className,\r\n      name,\r\n      isValid,\r\n      wrapperProps\r\n    } = props;\r\n\r\n    //core/paragraphの場合\r\n    if (name === 'core/paragraph') {\r\n      if (isValid) {\r\n        //属性の取り出し\r\n        const {\r\n          lineHeight,\r\n          margin_val,\r\n          padding_val\r\n        } = attributes;\r\n\r\n        //拡張したスタイル\r\n        const extraStyle = {\r\n          lineHeight: lineHeight,\r\n          margin: `${margin_val.top} ${margin_val.right} ${margin_val.bottom} ${margin_val.left}`,\r\n          padding: `${padding_val.top} ${padding_val.right} ${padding_val.bottom} ${padding_val.left}`,\r\n        }\r\n        //既存スタイルとマージ\r\n        let blockWrapperProps = wrapperProps;\r\n        blockWrapperProps = {\r\n          ...blockWrapperProps,\r\n          style: {\r\n            ...(blockWrapperProps && { ...blockWrapperProps.style }),\r\n            ...extraStyle\r\n          },\r\n        };\r\n\r\n        return (\r\n          <BlockListBlock {...props}\r\n            wrapperProps={blockWrapperProps}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      return (\r\n        <BlockListBlock {...props} />\r\n      );\r\n    }\r\n\r\n  };\r\n}, 'applyExtraAttributesInEditor');\r\n\r\naddFilter(\r\n  'editor.BlockListBlock',\r\n  'block-collections/extra-attributes-in-editor',\r\n  applyExtraAttributesInEditor,\r\n);\r\n\r\n//blocks.getSaveContent.extraPropsフック（フロントエンドへの反映）\r\nconst applyExtraAttributesInFrontEnd = (props, blockType, attributes) => {\r\n  //core/paragraphの場合\r\n  if (blockType.name === 'core/paragraph') {\r\n\r\n    //属性の取り出し\r\n    const {\r\n      lineHeight,\r\n      margin_val,\r\n      padding_val\r\n    } = attributes;\r\n\r\n    //拡張したスタイル\r\n    const extraStyle = {\r\n      lineHeight: lineHeight,\r\n      margin: `${margin_val.top} ${margin_val.right} ${margin_val.bottom} ${margin_val.left}`,\r\n      padding: `${padding_val.top} ${padding_val.right} ${padding_val.bottom} ${padding_val.left}`,\r\n    }\r\n    lodash.assign(\r\n      props,\r\n      {\r\n        ...extraStyle\r\n      },\r\n    );\r\n  }\r\n  return props;\r\n}\r\n\r\naddFilter(\r\n  'blocks.getSaveContent.extraProps',\r\n  'block-collections/-extra-attributes-in-front-end',\r\n  applyExtraAttributesInFrontEnd,\r\n);\r\n"],"names":["module","exports","window","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","withInspectorControl","createHigherOrderComponent","BlockEdit","padding_resetValues","top","left","right","bottom","units","value","label","props","name","lineHeight","margin_val","padding_val","attributes","setAttributes","createElement","Fragment","InspectorControls","group","PanelBody","title","RangeControl","max","min","step","onChange","val","withInputField","initialOpen","BoxControl","values","newValue","allowReset","resetValues","addFilter","settings","lodash","type","default","applyExtraAttributesInEditor","BlockListBlock","className","isValid","wrapperProps","extraStyle","margin","padding","blockWrapperProps","style","applyExtraAttributesInFrontEnd","blockType"],"sourceRoot":""}