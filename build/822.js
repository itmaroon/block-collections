"use strict";(self.webpackChunkblock_collections=self.webpackChunkblock_collections||[]).push([[822],{822:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var o=l(307),n=l(736),c=l(69),i=l(977),a=l(989),r=l.n(a),s=l(893),_=l(762),d=l(609),p=l(175),g=l(818);const m={top:"10px",left:"10px",right:"10px",bottom:"10px"},u=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}],b=e=>(0,o.createElement)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},(0,o.createElement)("text",{x:"0",y:"15",fontSize:"15","font-weight":"bold"},`H${e}`)),h=(e,t,l)=>{const o=document.createElement("canvas").getContext("2d");return o.font=`${t} ${l} `,o.measureText(e).width};function C(e){let{attributes:t,setAttributes:l,clientId:a}=e;const{headingContent:C,headingType:y,defaultHeadingSize:k,mobileHeadingSize:f,titleType:E,align:S,isVertical:v,padding_heading:x,optionStyle:w,shadow_element:P,is_shadow:L,is_underLine:B,underLine_prop:I,bgColor_underLine:T,bgGradient_underLine:R,linkKind:V,menu_pos:A,is_title_menu:N,selectedPageUrl:F,className:U}=t,z="center"===S?{marginLeft:"auto",marginRight:"auto"}:"right"===S?{marginLeft:"auto"}:{},M=(0,c.useIsIframeMobile)(),D=(0,o.useRef)(null),H=(0,p.useBlockProps)({ref:D,style:{position:N?"relative":"static",...z}}),O=(0,c.useElementBackgroundColor)(D,H.style);(0,o.useEffect)((()=>{if(O){l({shadow_element:{...P,baseColor:O}});const e=(0,c.ShadowElm)({...P,baseColor:O});e&&l({shadow_result:e.style})}}),[O]);const G=(0,o.useRef)(!1),[$,W]=(0,o.useState)(w);(0,o.useEffect)((()=>{let e;w?.copy_content&&(e=h(w.copy_content,w.font_style_copy?.fontSize,w.font_style_copy?.fontFamily));const t=w?.copy_content?{...$,copy_width:e}:$;l({optionStyle:t})}),[$]);const[q,Y]=(0,o.useState)("");(0,o.useEffect)((()=>{"plaine"!==E&&(async()=>{try{const e=await r()({path:"/"});Y("site"===E?e.name:e.description)}catch(e){console.error("Error fetching data:",e.message)}})()}),[E]);const J=()=>{let e;U?.split(" ").includes("is-style-circle_marker")?e={styleName:"is-style-circle_marker",colorVal_circle:"var(--wp--preset--color--accent-1)",colorVal_second:"var(--wp--preset--color--accent-2)",circleScale:"3em",secondScale:"1.5em",second_opacity:.7,first_long:10,first_lat:-5,second_long:-10,second_lat:10,isSecond:!0}:U?.split(" ").includes("is-style-sub_copy")?(e={styleName:"is-style-sub_copy",alignment_copy:"top left",color_text_copy:"var(--wp--preset--color--content)",color_background_copy:"var(--wp--preset--color--accent-1)",copy_content:"SAMPLE",copy_width:0,font_style_copy:{fontSize:"16px",fontFamily:"Arial, sans-serif",fontWeight:"500",isItalic:!1},radius_copy:{topLeft:"10px",topRight:"10px",bottomRight:"0px",bottomLeft:"0px",value:"0px"},padding_copy:{top:"10px",left:"10px",bottom:"10px",right:"10px"},isIcon:!1,icon_style:{icon_name:"f030",icon_pos:"left",icon_size:"24px",icon_color:"#000",icon_space:"5px",icon_family:"Font Awesome 6 Free"}},te("SAMPLE")):e={},W(e),G.current=U,Q(!1)},K=()=>{Z(!0),l({className:G.current}),Q(!1)},[j,Q]=(0,o.useState)(!1),[X,Z]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(0!=G.current){if(X)return void Z(!1);if(void 0===G.current||G.current?.split(" ").includes("is-style-default"))return void J();Q(!0)}else G.current=U}),[U]),function(e,t){(0,c.useDeepCompareEffect)((()=>{const l=document.getElementsByName("editor-canvas")[0];if(l){const n=l.contentDocument||l.contentWindow.document,c=new s.qH;(0,_.Dq)(c.collectStyles((0,o.createElement)(e,{attributes:t})));const i=c.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),a=n.createElement("style");return a.innerHTML=i,n.head.appendChild(a),()=>{n.head.removeChild(a)}}}),[t])}(i.J,t);const[ee,te]=(0,o.useState)(w&&void 0!==w.copy_content?w.copy_content:"SAMPLE"),le=(0,g.useSelect)((e=>e("core/block-editor").hasSelectedInnerBlock(a,!0)),[a]),[oe,ne]=(0,o.useState)(!1);(0,g.useSelect)((e=>{const t=e("core/block-editor").getBlockParents(a);for(let l=0;l<t.length;l++){const o=e("core/block-editor").getBlock(t[l]);if(o.attributes?.is_menu){ne(!0);break}if(o.attributes?.is_submenu){ne(!0);break}}}),[a]),(0,o.useEffect)((()=>{l({isMenuItem:oe})}),[oe]);const ce=(0,p.useInnerBlocksProps)({className:`submenu-block ${le?"visible":""} ${A.replace(/ /g,"_")} ${N?"mobile_virtical":"mobile_horizen"}`},{allowedBlocks:["itmar/design-group"],template:[["itmar/design-group",{is_submenu:!0},[["itmar/design-title",{headingType:"H3"}]]]],templateLock:!1}),ie="plaine"===E?(0,o.createElement)(p.RichText,{tagName:y,onChange:e=>{l({headingContent:e})},value:C,placeholder:(0,n.__)("Write Title text...","block-collections")}):React.createElement(y.toLowerCase(),{},q);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.InspectorControls,{group:"settings"},(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Title Source Setting","block-collections")},(0,o.createElement)("div",{className:"itmar_title_type"},(0,o.createElement)(d.RadioControl,{label:(0,n.__)("Title type","block-collections"),selected:E,options:[{label:(0,n.__)("Plaine","block-collections"),value:"plaine"},{label:(0,n.__)("Site Title","block-collections"),value:"site"},{label:(0,n.__)("Chatch Phrase","block-collections"),value:"catch"}],onChange:e=>l({titleType:e}),help:(0,n.__)("You can display the site title and catchphrase in addition to the blank title.","block-collections")})),(0,o.createElement)("div",{className:"itmar_link_type"},(0,o.createElement)(d.RadioControl,{label:(0,n.__)("Link type","block-collections"),selected:V,options:[{label:(0,n.__)("None","block-collections"),value:"none"},{label:(0,n.__)("Fixed Page","block-collections"),value:"fixed"},{label:(0,n.__)("Archive Page","block-collections"),value:"archive"},{label:(0,n.__)("Free URL","block-collections"),value:"free"},{label:(0,n.__)("Sub Menu","block-collections"),value:"submenu"}],onChange:e=>l({linkKind:e}),help:(0,n.__)("You can select the type of URL to link to the title.","block-collections")})),"fixed"===V&&(0,o.createElement)(c.PageSelectControl,{attributes:t,setAttributes:l,label:(0,n.__)("Select a fixed page to link to","block-collections"),homeUrl:block_collections.home_url}),"archive"===V&&(0,o.createElement)(c.ArchiveSelectControl,{attributes:t,setAttributes:l,label:(0,n.__)("Select archive page to link to","block-collections"),homeUrl:block_collections.home_url}),"free"===V&&(0,o.createElement)(d.TextControl,{label:(0,n.__)("Link to URL","block-collections"),labelPosition:"top",value:F,onChange:e=>{l({selectedPageUrl:e})}}),"submenu"===V&&(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Submenu position settings","block-collections")},(0,o.createElement)(d.PanelRow,{className:"imgPos_row"},(0,o.createElement)("label",null,(0,n.__)("Menu Alignment","block-collections")),(0,o.createElement)(d.__experimentalAlignmentMatrixControl,{value:A,onChange:e=>{l({menu_pos:e})}})),(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Based on title","block-collections"),checked:N,help:(0,n.__)("If unchecked, the parent menu will be used as the reference. If there is no parent menu, do not uncheck it.","block-collections"),onChange:e=>{l({is_title_menu:e})}})))),(0,o.createElement)(p.InspectorControls,{group:"styles"},(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Title settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>l(M?{mobileHeadingSize:e}:{defaultHeadingSize:e}),label:M?(0,n.__)("Font Size(mobile)","block-collections"):(0,n.__)("Font Size(desk top)","block-collections"),value:M?f:k}),(0,o.createElement)(d.__experimentalBoxControl,{label:(0,n.__)("Padding","block-collections"),values:x,onChange:e=>l({padding_heading:e}),units:u,allowReset:!0,resetValues:m}),(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Is Shadow","block-collections"),checked:L,onChange:e=>{l({is_shadow:e})}}),L&&(0,o.createElement)(c.ShadowStyle,{shadowStyle:{...P},onChange:(e,t)=>{l({shadow_result:e.style}),l({shadow_element:t})}}),(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Add an underline","block-collections"),checked:B,onChange:e=>{l({is_underLine:e})}}),B&&(0,o.createElement)(d.PanelBody,{title:(0,n.__)("UnderLine settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(d.PanelRow,{className:"distance_row"},(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>{const t={...I,height:e};l({underLine_prop:t})},label:(0,n.__)("Height","block-collections"),value:I.height}),(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>{const t={...I,width:e};l({underLine_prop:t})},label:(0,n.__)("Width","block-collections"),value:I.width}),(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>{const t={...I,distance:e};l({underLine_prop:t})},label:(0,n.__)("Distance","block-collections"),value:I.distance})),(0,o.createElement)(p.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Under Line Color Setting","block-collections"),settings:[{colorValue:T,gradientValue:R,label:(0,n.__)("Choose Under Line color","block-collections"),onColorChange:e=>{l({bgColor_underLine:void 0===e?"":e})},onGradientChange:e=>{l({bgGradient_underLine:e})}}]}),(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Animation on hover","block-collections"),checked:I.is_anime,onChange:e=>{const t={...I,is_anime:e};l({underLine_prop:t})}})),(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Write vertically","block-collections"),checked:v,onChange:e=>{l({isVertical:e})}})),U?.split(" ").includes("is-style-circle_marker")&&(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Circle Marker Settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,o.createElement)(p.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Circle Color Setting","block-collections"),settings:[{colorValue:w&&w.colorVal_circle?w.colorVal_circle:"var(--wp--preset--color--accent-1)",gradientValue:w&&w.gradientVal_circle?w.gradientVal_circle:void 0,label:(0,n.__)("Choose Circle Background","block-collections"),onColorChange:e=>{W((t=>({...t,colorVal_circle:e})))},onGradientChange:e=>{W((t=>({...t,gradientVal_circle:e})))}}]}),(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>{W((t=>({...t,circleScale:e})))},label:(0,n.__)("Circle Scale Setting","block-collections"),value:w&&w.circleScale?w.circleScale:"3em"}),(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Position Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(d.RangeControl,{value:w&&w.first_lat?w.first_lat:10,label:(0,n.__)("Lateral direction","block-collections"),max:50,min:-30,step:1,onChange:e=>{W((t=>({...t,first_lat:e})))},withInputField:!1}),(0,o.createElement)(d.RangeControl,{value:w&&w.first_long?w.first_long:10,label:(0,n.__)("Longitudinal direction","block-collections"),max:50,min:-30,step:1,onChange:e=>{W((t=>({...t,first_long:e})))},withInputField:!1})),(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Second Circle Settings","block-collections"),initialOpen:!0},(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Second Circle","block-collections"),checked:!w||!w.isSecond||w.isSecond,onChange:e=>{W((t=>({...t,isSecond:e})))}})),!(!w||!w.isSecond)&&w.isSecond&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(p.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Circle Color Setting","block-collections"),settings:[{colorValue:w&&w.colorVal_second?w.colorVal_second:"var(--wp--preset--color--accent-2)",gradientValue:w&&w.gradientVal_second?w.gradientVal_second:void 0,label:(0,n.__)("Choose Circle Background","block-collections"),onColorChange:e=>{W((t=>({...t,colorVal_second:e})))},onGradientChange:e=>{W((t=>({...t,gradientVal_second:e})))}}]}),(0,o.createElement)(d.RangeControl,{value:w&&w.second_opacity?w.second_opacity:.7,label:(0,n.__)("Opacity","block-collections"),max:1,min:.1,step:.1,onChange:e=>{W((t=>({...t,second_opacity:e})))},withInputField:!1}),(0,o.createElement)(d.__experimentalUnitControl,{dragDirection:"e",onChange:e=>{W((t=>({...t,secondScale:e})))},label:(0,n.__)("Circle Scale Setting","block-collections"),value:w&&w.secondScale?w.secondScale:"1.5em"}),(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Position Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(d.RangeControl,{value:w&&w.second_lat?w.second_lat:20,label:(0,n.__)("Lateral direction","block-collections"),max:50,min:-30,step:1,onChange:e=>{W((t=>({...t,second_lat:e})))},withInputField:!1}),(0,o.createElement)(d.RangeControl,{value:w&&w.second_long?w.second_long:-10,label:(0,n.__)("Longitudinal direction","block-collections"),max:50,min:-30,step:1,onChange:e=>{W((t=>({...t,second_long:e})))},withInputField:!1})))),U?.split(" ").includes("is-style-sub_copy")&&(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Sub Copy Settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,o.createElement)(p.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Copy Color Setting","block-collections"),settings:[{colorValue:w&&w.color_text_copy?w.color_text_copy:"var(--wp--preset--color--content)",label:(0,n.__)("Choose Text color","block-collections"),onColorChange:e=>{W((t=>({...t,color_text_copy:e})))}},{colorValue:w&&w.color_background_copy?w.color_background_copy:"var(--wp--preset--color--accent-2)",gradientValue:w&&w.gradient_background_copy?w.gradient_background_copy:void 0,label:(0,n.__)("Choose Background color","block-collections"),onColorChange:e=>{W((t=>({...t,color_background_copy:e})))},onGradientChange:e=>{W((t=>({...t,gradient_background_copy:e})))}}]}),(0,o.createElement)(d.PanelRow,{className:"copyInfo_row"},(0,o.createElement)(d.TextControl,{label:(0,n.__)("Copy Text","block-collections"),labelPosition:"top",value:ee,onChange:e=>{te(e),W((t=>({...t,copy_content:e})))}})),(0,o.createElement)(d.PanelRow,{className:"copyInfo_row"},(0,o.createElement)("label",null,(0,n.__)("Copy Alignment","block-collections")),(0,o.createElement)(d.__experimentalAlignmentMatrixControl,{value:w&&w.alignment_copy?w.alignment_copy:"top left",onChange:e=>{W((t=>({...t,alignment_copy:e})))}})),(0,o.createElement)(c.TypographyControls,{title:(0,n.__)("Typography","block-collections"),fontStyle:w&&w.font_style_copy?w.font_style_copy:{default_fontSize:"16px",mobile_fontSize:"12px",fontFamily:"Arial, sans-serif",fontWeight:"500",isItalic:!1},initialOpen:!1,isMobile:M,onChange:e=>{W((t=>({...t,font_style_copy:e})))}}),(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Border Settings","block-collections"),initialOpen:!0},(0,o.createElement)(p.__experimentalBorderRadiusControl,{values:w&&w.radius_copy?w.radius_copy:{topLeft:"10px",topRight:"10px",bottomRight:"0px",bottomLeft:"0px",value:"0px"},onChange:e=>{W((t=>({...t,radius_copy:"string"==typeof e?{value:e}:e})))}}),(0,o.createElement)(d.__experimentalBoxControl,{label:(0,n.__)("Padding settings","block-collections"),values:w&&w.padding_copy?w.padding_copy:{top:"10px",left:"10px",bottom:"10px",right:"10px"},onChange:e=>{W((t=>({...t,padding_copy:e})))},units:u,allowReset:!0,resetValues:m})),(0,o.createElement)(d.PanelBody,{title:(0,n.__)("Icon settings","block-collections"),initialOpen:!0},(0,o.createElement)(d.ToggleControl,{label:(0,n.__)("Append icon","block-collections"),checked:!(!w||!w.isIcon)&&w.isIcon,onChange:e=>{W((t=>({...t,isIcon:e})))}}),!(!w||!w.isIcon)&&w.isIcon&&(0,o.createElement)(c.IconSelectControl,{iconStyle:w&&w.icon_style?w.icon_style:{icon_name:"f030",icon_pos:"left",icon_size:"24px",icon_color:"var(--wp--preset--color--content)",icon_space:"5px"},onChange:e=>{W((t=>({...t,icon_style:e})))}})))),(0,o.createElement)(p.BlockControls,null,(0,o.createElement)(p.AlignmentToolbar,{value:S,onChange:e=>{l({align:e})}}),(0,o.createElement)(d.ToolbarDropdownMenu,{label:(0,n.__)("Change heading level","block-collections"),icon:b(parseInt(y.slice(1),10)),controls:[1,2,3,4,5,6].map((e=>({icon:b(e),title:`Heading ${e}`,isActive:y===`H${e}`,onClick:()=>l({headingType:`H${e}`})})))})),j&&(0,o.createElement)(d.Modal,{title:(0,n.__)("Confirm Deletion","block-collections"),onRequestClose:K},(0,o.createElement)("p",null,(0,n.__)("Changing a style resets the style-specific settings. Are you sure?","block-collections")),(0,o.createElement)(d.Button,{variant:"primary",onClick:J},(0,n.__)("Yes, Change","block-collections")),(0,o.createElement)(d.Button,{variant:"secondary",onClick:K},(0,n.__)("Cancel","block-collections"))),(0,o.createElement)("div",H,(0,o.createElement)(i.J,{attributes:t},ie),"submenu"===V&&(0,o.createElement)("div",ce)))}}}]);