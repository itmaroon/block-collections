"use strict";(globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[]).push([[228],{228:(e,l,t)=>{t.r(l),t.d(l,{default:()=>E});var o=t(609),n=t(723);const a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTAwIiB6b29tQW5kUGFuPSJtYWduaWZ5IiB2aWV3Qm94PSIwIDAgNzUgNzQuOTk5OTk3IiBoZWlnaHQ9IjEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCIgdmVyc2lvbj0iMS4wIj48ZGVmcz48Y2xpcFBhdGggaWQ9IjgyMmM0YzQ0ODIiPjxwYXRoIGQ9Ik0gMCAxMy4wNzgxMjUgTCA3NSAxMy4wNzgxMjUgTCA3NSA2MS44MjgxMjUgTCAwIDYxLjgyODEyNSBaIE0gMCAxMy4wNzgxMjUgIiBjbGlwLXJ1bGU9Im5vbnplcm8iLz48L2NsaXBQYXRoPjwvZGVmcz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48cmVjdCB4PSItNy41IiB3aWR0aD0iOTAiIGZpbGw9IiNmZmZmZmYiIHk9Ii03LjUiIGhlaWdodD0iODkuOTk5OTk2IiBmaWxsLW9wYWNpdHk9IjEiLz48ZyBjbGlwLXBhdGg9InVybCgjODIyYzRjNDQ4MikiPjxwYXRoIGZpbGw9IiMwMDAwMDAiIGQ9Ik0gNzMuODc4OTA2IDM0LjYyODkwNiBDIDY5Ljg1OTM3NSAyOC4yMTA5MzggNTguMTkxNDA2IDEzLjA3ODEyNSAzNy41IDEzLjA3ODEyNSBDIDE2LjgxMjUgMTMuMDc4MTI1IDUuMTQ0NTMxIDI4LjIxMDkzOCAxLjEyNSAzNC42Mjg5MDYgQyAwLjA0Mjk2ODggMzYuMzU1NDY5IDAuMDQyOTY4OCAzOC41NTA3ODEgMS4xMjUgNDAuMjc3MzQ0IEMgNS4xNDQ1MzEgNDYuNjk1MzEyIDE2LjgxMjUgNjEuODI4MTI1IDM3LjUgNjEuODI4MTI1IEMgNTguMTkxNDA2IDYxLjgyODEyNSA2OS44NTkzNzUgNDYuNjk1MzEyIDczLjg3ODkwNiA0MC4yNzczNDQgQyA3NC45NjA5MzggMzguNTUwNzgxIDc0Ljk2MDkzOCAzNi4zNTU0NjkgNzMuODc4OTA2IDM0LjYyODkwNiBaIE0gMzcuNSA1My4zNTkzNzUgQyAyOC42OTkyMTkgNTMuMzU5Mzc1IDIxLjU2MjUgNDYuMjM4MjgxIDIxLjU2MjUgMzcuNDUzMTI1IEMgMjEuNTYyNSAyOC42Njc5NjkgMjguNjk5MjE5IDIxLjU0Njg3NSAzNy41IDIxLjU0Njg3NSBDIDQ2LjMwNDY4OCAyMS41NDY4NzUgNTMuNDQxNDA2IDI4LjY2Nzk2OSA1My40NDE0MDYgMzcuNDUzMTI1IEMgNTMuNDQxNDA2IDQ2LjIzODI4MSA0Ni4zMDQ2ODggNTMuMzU5Mzc1IDM3LjUgNTMuMzU5Mzc1IFogTSA0Mi44MTY0MDYgMzQuODAwNzgxIEMgNDEuMzQ3NjU2IDM0LjgwMDc4MSA0MC4xNjAxNTYgMzMuNjEzMjgxIDQwLjE2MDE1NiAzMi4xNTIzNDQgQyA0MC4xNjAxNTYgMzEuNDI1NzgxIDQwLjQ1MzEyNSAzMC43NzczNDQgNDAuOTIxODc1IDMwLjI5Njg3NSBDIDM5Ljg4MjgxMiAyOS44MDA3ODEgMzguNzMwNDY5IDI5LjUgMzcuNSAyOS41IEMgMzMuMTAxNTYyIDI5LjUgMjkuNTMxMjUgMzMuMDU4NTk0IDI5LjUzMTI1IDM3LjQ1MzEyNSBDIDI5LjUzMTI1IDQxLjg0NzY1NiAzMy4xMDE1NjIgNDUuNDA2MjUgMzcuNSA0NS40MDYyNSBDIDQxLjkwMjM0NCA0NS40MDYyNSA0NS40NzI2NTYgNDEuODQ3NjU2IDQ1LjQ3MjY1NiAzNy40NTMxMjUgQyA0NS40NzI2NTYgMzYuMjI2NTYyIDQ1LjE2Nzk2OSAzNS4wNzgxMjUgNDQuNjcxODc1IDM0LjAzOTA2MiBDIDQ0LjE5MTQwNiAzNC41MDc4MTIgNDMuNTM5MDYyIDM0LjgwMDc4MSA0Mi44MTY0MDYgMzQuODAwNzgxIFogTSA0Mi44MTY0MDYgMzQuODAwNzgxICIgZmlsbC1vcGFjaXR5PSIxIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L2c+PC9zdmc+";var i=t(314),c=t(442),s=t(87),r=t(143),g=t(715),u=t(477),p=t(267),m=t(848);function b(e,l){(0,u.useDeepCompareEffect)((()=>{const t=document.getElementsByName("editor-canvas")[0];if(t){const n=t.contentDocument||t.contentWindow.document,a=new p.E;(0,m.F0)(a.collectStyles((0,o.createElement)(e,{attributes:l})));const i=a.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),c=n.createElement("style");return c.innerHTML=i,n.head.appendChild(c),()=>{n.head.removeChild(c)}}}),[l])}var _=t(427),d=t(223);const M={top:"10px",left:"10px",right:"10px",bottom:"10px"},N={top:"0px",left:"0px",right:"0px",bottom:"0px"},C=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function I(e){const{attributes:l}=e,{required:t,labelContent:a,default_pos:i,mobile_pos:c,font_style_label:s,bgColor_label:r,bgGradient_label:p,textColor_label:m,radius_label:I,border_label:D,padding_label:x,labelSpace:h,isMobile:E}=l;return b(d.A,e.attributes),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g.InspectorControls,{group:"settings"},(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Required Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(_.PanelRow,{className:"labelRequierd_row"},(0,o.createElement)(_.ToggleControl,{label:(0,n.__)("Required input","block-collections"),checked:t.flg,onChange:l=>{const o={...t,flg:l};e.onChange("required",o)}})),t.flg&&(0,o.createElement)(_.PanelRow,null,(0,o.createElement)(_.TextControl,{label:(0,n.__)("Show 'required'","block-collections"),value:t.display,isPressEnterToChange:!0,onChange:l=>{const o={...t,display:l};e.onChange("required",o)}}))),(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Label Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(_.PanelRow,{className:"labelInfo_row"},(0,o.createElement)(_.TextControl,{label:(0,n.__)("Text of Label","block-collections"),labelPosition:"top",value:a,isPressEnterToChange:!0,onChange:l=>e.onChange("labelContent",l)})),(0,o.createElement)("label",null,E?(0,n.__)("Label Alignment(mobile)","block-collections"):(0,n.__)("Label Alignment(desk top)","block-collections")),(0,o.createElement)(_.__experimentalAlignmentMatrixControl,{label:E?(0,n.__)("Label Alignment(mobile)","block-collections"):(0,n.__)("Label Alignment(desk top)","block-collections"),value:E?c.labelPos:i.labelPos,onChange:l=>{E?e.onChange("mobile_pos",{...c,labelPos:l}):e.onChange("default_pos",{...i,labelPos:l})}}),(0,o.createElement)("label",null,(0,n.__)("Selecting the center vertically or horizontally will hide it.","block-collections")))),(0,o.createElement)(g.InspectorControls,{group:"styles"},(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Label style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,o.createElement)(u.TypographyControls,{title:(0,n.__)("Typography","block-collections"),fontStyle:s,onChange:l=>{e.onChange("font_style_label",l)},isMobile:E,initialOpen:!1}),(0,o.createElement)(g.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Label Color Setting","block-collections"),settings:[{colorValue:m,label:(0,n.__)("Choose Text color","block-collections"),onColorChange:l=>e.onChange("textColor_label",l)},{colorValue:r,gradientValue:p,label:(0,n.__)("Choose Background color","block-collections"),onColorChange:l=>e.onChange("bgColor_label",l),onGradientChange:l=>e.onChange("bgGradient_label",l)}]}),(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl"},(0,o.createElement)(_.__experimentalBorderBoxControl,{onChange:l=>e.onChange("border_label",l),value:D,allowReset:!0,resetValues:N}),(0,o.createElement)(g.__experimentalBorderRadiusControl,{values:I,onChange:l=>e.onChange("radius_label","string"==typeof l?{value:l}:l)})),(0,o.createElement)(_.__experimentalBoxControl,{label:(0,n.__)("Padding settings","block-collections"),values:x,onChange:l=>e.onChange("padding_label",l),units:C,allowReset:!0,resetValues:M}),(0,o.createElement)(_.__experimentalUnitControl,{dragDirection:"e",onChange:l=>e.onChange("labelSpace",l),label:(0,n.__)("Spacing with textbox","block-collections"),value:h}))),(0,o.createElement)(d.A,{attributes:l},t.flg?(0,o.createElement)(o.Fragment,null,a,(0,o.createElement)("span",null,"(",t.display,")")):a))}const D={top:"10px",left:"10px",right:"10px",bottom:"10px"},x={top:"0px",left:"0px",right:"0px",bottom:"0px"},h=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function E(e){const{attributes:l,setAttributes:t,clientId:p}=e,{inputName:m,inputValue:d,placeFolder:M,inputType:N,addressInput:C,required:E,focusColor:y,bgColor:k,font_style_input:z,bgColor_input:j,bgGradient_input:T,textColor_input:A,radius_input:w,border_input:S,default_pos:L,mobile_pos:O,labelContent:B,shadow_element:v,is_shadow:f,className:Y}=l,U=(0,u.useIsIframeMobile)(),P=(0,s.useRef)(null),Q=(0,g.useBlockProps)({ref:P,style:{backgroundColor:k}}),R=(0,u.useElementBackgroundColor)(P,Q.style);(0,s.useEffect)((()=>{if(R){t({shadow_element:{...v,baseColor:R}});const e=(0,u.ShadowElm)({...v,baseColor:R});e&&t({shadow_result:e.style})}}),[R]),b(c.B,l);const G=E.flg?`${B}(${E.display})`:B,V=e.context["itmar/label_width"]||"auto";(0,s.useEffect)((()=>{t({labelWidth:V})}),[V]);const[W,H]=(0,s.useState)(d);(0,s.useEffect)((()=>{H(d)}),[d]);const[Z,F]=(0,s.useState)("auto"),X=(0,s.useRef)(null);(0,s.useEffect)((()=>{X.current&&F(`${X.current.scrollHeight}px`)}),[Y]);const[q,$]=(0,s.useState)(!1),J=(0,u.useTargetBlocks)(p,"itmar/design-text-ctrl").map((e=>({label:e.attributes.labelContent,value:e.attributes.inputName}))),K=(0,u.useTargetBlocks)(p,"itmar/design-text-ctrl",{inputName:C});return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g.InspectorControls,{group:"settings"},(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Input element information setting","block-collections"),initialOpen:!0,className:"title_design_ctrl"},(0,o.createElement)(_.PanelRow,null,(0,o.createElement)(_.TextControl,{label:(0,n.__)("name attribute name","block-collections"),value:m,onChange:e=>t({inputName:e})})),(0,o.createElement)(_.PanelRow,null,(0,o.createElement)(_.TextControl,{label:(0,n.__)("PlaceHolder","block-collections"),value:M,isPressEnterToChange:!0,onChange:e=>t({placeFolder:e})})),(0,o.createElement)(_.PanelRow,{className:"itmar_weight_row"},(0,o.createElement)(_.RadioControl,{selected:N,label:(0,n.__)("Kind of Input Element","block-collections"),options:[{label:"TEXT",value:"text"},{label:"E-MAIL",value:"email"},{label:"PASSWORD",value:"pass"},{label:"ZIP",value:"zip"},{label:"AREA",value:"textarea"}],onChange:e=>{t({inputType:e})}})),"zip"===N&&(0,o.createElement)(_.PanelRow,null,(0,o.createElement)(_.SelectControl,{label:(0,n.__)("Address text box","block-collections"),value:C,options:J,onChange:e=>{t({addressInput:e})}})))),(0,o.createElement)(g.InspectorControls,{group:"styles"},(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Global settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,o.createElement)(g.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Background Color Setting","block-collections"),settings:[{colorValue:k,label:(0,n.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor:e})}]}),(0,o.createElement)(g.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Focus Color Setting","block-collections"),settings:[{colorValue:y,label:(0,n.__)("Choose Focus color","block-collections"),onColorChange:e=>t({focusColor:e})}]}),(0,o.createElement)(_.__experimentalBoxControl,{label:U?(0,n.__)("Margin settings(mobile)","block-collections"):(0,n.__)("Margin settings(desk top)","block-collections"),values:U?O.margin_input:L.margin_input,onChange:e=>{t(U?{mobile_pos:{...O,margin_input:e}}:{default_pos:{...L,margin_input:e}})},units:h,allowReset:!0,resetValues:D}),(0,o.createElement)(_.__experimentalBoxControl,{label:U?(0,n.__)("Padding settings(mobile)","block-collections"):(0,n.__)("Padding settings(desk top)","block-collections"),values:U?O.padding_input:L.padding_input,onChange:e=>{t(U?{mobile_pos:{...O,padding_input:e}}:{default_pos:{...L,padding_input:e}})},units:h,allowReset:!0,resetValues:D}),(0,o.createElement)(_.ToggleControl,{label:(0,n.__)("Is Shadow","block-collections"),checked:f,onChange:e=>{t({is_shadow:e})}}),f&&(0,o.createElement)(u.ShadowStyle,{shadowStyle:{...v},onChange:(e,l)=>{t({shadow_result:e.style}),t({shadow_element:l})}})),(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Input Box style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl"},(0,o.createElement)(u.TypographyControls,{title:(0,n.__)("Typography","block-collections"),fontStyle:z,onChange:e=>{t({font_style_input:e})},isMobile:U,initialOpen:!1}),(0,o.createElement)(_.RangeControl,{value:U?O.inputLineHeight:L.inputLineHeight,label:U?(0,n.__)("Line Height(mobile)","block-collections"):(0,n.__)("Line Height(desk top)","block-collections"),max:3,min:1,step:.1,onChange:e=>{t(U?{mobile_pos:{...O,inputLineHeight:e}}:{default_pos:{...L,inputLineHeight:e}})},withInputField:!0}),(0,o.createElement)(g.__experimentalPanelColorGradientSettings,{title:(0,n.__)("Color Settings","block-collections"),settings:[{colorValue:A,label:(0,n.__)("Choose Text color","block-collections"),onColorChange:e=>t({textColor_input:e})},{colorValue:j,gradientValue:T,label:(0,n.__)("Choose Background color","block-collections"),onColorChange:e=>t({bgColor_input:e}),onGradientChange:e=>t({bgGradient_input:e})}]}),(0,o.createElement)(_.PanelBody,{title:(0,n.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl"},(0,o.createElement)(_.__experimentalBorderBoxControl,{onChange:e=>t({border_input:e}),value:S,allowReset:!0,resetValues:x}),(0,o.createElement)(g.__experimentalBorderRadiusControl,{values:w,onChange:e=>t({radius_input:"string"==typeof e?{value:e}:e})})))),(0,o.createElement)("div",{...Q},(0,o.createElement)(c.B,{attributes:l},"text"===N&&(0,o.createElement)("input",{type:"text",name:m,placeholder:Y?.includes("is-style-line")?G:M,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),"email"===N&&(0,o.createElement)("input",{type:"email",placeholder:Y?.includes("is-style-line")?G:M,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),"pass"===N&&(0,o.createElement)("div",{className:"password-wrapper"},(0,o.createElement)("input",{type:q?"text":"password",placeholder:Y?.includes("is-style-line")?G:M,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),(0,o.createElement)("button",{type:"button",className:"toggle-password-button",onClick:()=>$(!q),"aria-label":q?"パスワードを非表示":"パスワードを表示"},(0,o.createElement)("img",{src:q?a:i.A,alt:"","aria-hidden":"true"}))),"zip"===N&&(0,o.createElement)("div",{className:"zip-search-wrapper"},(0,o.createElement)("input",{type:"text",value:W,placeholder:`${(0,n.__)("example","block-collections")}) 1234567`,className:"contact_text "+(W?"":"empty"),onChange:e=>{const l=e.target.value;H(l),t({inputValue:l})}}),(0,o.createElement)("button",{type:"button",onClick:async()=>{const e=await(0,u.fetchZipToAddress)(W);if(!e)return;const l=`${e.address1}${e.address2}${e.address3}`;K?(0,r.dispatch)(g.store).updateBlockAttributes(K.clientId,{inputValue:l}):alert((0,n.__)("The block to enter the address cannot be found.","block-collections"))},className:"zip-search-button"},(0,n.__)("Address Search","block-collections"))),"textarea"===N&&(0,o.createElement)("textarea",{ref:X,style:{height:Z},name:m,placeholder:Y?.includes("is-style-line")?G:M,className:"contact_text "+(W?"":"empty"),value:W,onChange:e=>{const l=e.target.value,o=e.target.scrollHeight;H(l),F(`${o}px`),t({inputValue:l})}}),(0,o.createElement)(I,{attributes:{...l,isMobile:U},onChange:(e,l)=>t({[e]:l})}))))}}}]);