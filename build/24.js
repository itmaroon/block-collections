"use strict";(globalThis.webpackChunkblock_collections=globalThis.webpackChunkblock_collections||[]).push([[24],{24:(e,l,o)=>{o.r(l),o.d(l,{default:()=>y});var t=o(723),n=o(279),s=o(650),a=o(734),i=o(716),c=o(931),r=o(790);function d(e,l){(0,a.useDeepCompareEffect)(()=>{const o=document.getElementsByName("editor-canvas")[0];if(o){const t=o.contentDocument||o.contentWindow.document,n=new i.E;(0,c.F0)(n.collectStyles((0,r.jsx)(e,{attributes:l})));const s=n.getStyleTags().replace(/<style[^>]*>|<\/style>/g,""),a=t.createElement("style");return a.innerHTML=s,t.head.appendChild(a),()=>{t.head.removeChild(a)}}},[l])}var _=o(87),b=o(715),u=o(427),g=o(223);const p={top:"10px",left:"10px",right:"10px",bottom:"10px"},h={top:"0px",left:"0px",right:"0px",bottom:"0px"},x=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function C(e){const{attributes:l}=e,{required:o,labelContent:n,default_pos:s,mobile_pos:i,font_style_label:c,bgColor_label:_,bgGradient_label:C,textColor_label:m,radius_label:k,border_label:j,padding_label:v,labelSpace:f,isMobile:y}=l;return d(g.A,e.attributes),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b.InspectorControls,{group:"settings",children:[(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Required Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,r.jsx)(u.PanelRow,{className:"labelRequierd_row",children:(0,r.jsx)(u.ToggleControl,{label:(0,t.__)("Required input","block-collections"),checked:o.flg,onChange:l=>{const t={...o,flg:l};e.onChange("required",t)}})}),o.flg&&(0,r.jsx)(u.PanelRow,{children:(0,r.jsx)(u.TextControl,{label:(0,t.__)("Show 'required'","block-collections"),value:o.display,isPressEnterToChange:!0,onChange:l=>{const t={...o,display:l};e.onChange("required",t)}})})]}),(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Label Settings","block-collections"),initialOpen:!0,className:"title_design_ctrl",children:[(0,r.jsx)(u.PanelRow,{className:"labelInfo_row",children:(0,r.jsx)(u.TextControl,{label:(0,t.__)("Text of Label","block-collections"),labelPosition:"top",value:n,isPressEnterToChange:!0,onChange:l=>e.onChange("labelContent",l)})}),(0,r.jsx)("label",{children:y?(0,t.__)("Label Alignment(mobile)","block-collections"):(0,t.__)("Label Alignment(desk top)","block-collections")}),(0,r.jsx)(u.__experimentalAlignmentMatrixControl,{label:y?(0,t.__)("Label Alignment(mobile)","block-collections"):(0,t.__)("Label Alignment(desk top)","block-collections"),value:y?i.labelPos:s.labelPos,onChange:l=>{y?e.onChange("mobile_pos",{...i,labelPos:l}):e.onChange("default_pos",{...s,labelPos:l})}}),(0,r.jsx)("label",{children:(0,t.__)("Selecting the center vertically or horizontally will hide it.","block-collections")})]})]}),(0,r.jsx)(b.InspectorControls,{group:"styles",children:(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Label style settings","block-collections"),initialOpen:!1,className:"title_design_ctrl",children:[(0,r.jsx)(a.TypographyControls,{title:(0,t.__)("Typography","block-collections"),fontStyle:c,onChange:l=>{e.onChange("font_style_label",l)},isMobile:y,initialOpen:!1}),(0,r.jsx)(b.__experimentalPanelColorGradientSettings,{title:(0,t.__)("Label Color Setting","block-collections"),settings:[{colorValue:m,label:(0,t.__)("Choose Text color","block-collections"),onColorChange:l=>e.onChange("textColor_label",l)},{colorValue:_,gradientValue:C,label:(0,t.__)("Choose Background color","block-collections"),onColorChange:l=>e.onChange("bgColor_label",l),onGradientChange:l=>e.onChange("bgGradient_label",l)}]}),(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,r.jsx)(u.__experimentalBorderBoxControl,{onChange:l=>e.onChange("border_label",l),value:j,allowReset:!0,resetValues:h}),(0,r.jsx)(b.__experimentalBorderRadiusControl,{values:k,onChange:l=>e.onChange("radius_label","string"==typeof l?{value:l}:l)})]}),(0,r.jsx)(u.__experimentalBoxControl,{label:(0,t.__)("Padding settings","block-collections"),values:v,onChange:l=>e.onChange("padding_label",l),units:x,allowReset:!0,resetValues:p}),(0,r.jsx)(u.__experimentalUnitControl,{dragDirection:"e",onChange:l=>e.onChange("labelSpace",l),label:(0,t.__)("Spacing with textbox","block-collections"),value:f})]})}),(0,r.jsx)(g.A,{attributes:l,children:o.flg?(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsxs)("span",{children:["(",o.display,")"]})]}):n})]})}let m=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,l)=>e+((l&=63)<36?l.toString(36):l<62?(l-26).toString(36).toUpperCase():l>62?"-":"_"),"");function k(e){const{optionValues:l}=e,[o,n]=(0,_.useState)(!1),[s,a]=(0,_.useState)(null),[i,c]=(0,_.useState)(!1),[d,b]=(0,_.useState)(null),g=()=>n(!0),p=()=>n(!1),h=()=>{c(!1),b(null)},x=(e,l)=>{a(o=>({...o,[e]:l}))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Button,{label:(0,t.__)("add","block-collections"),icon:"insert",onClick:()=>{const e=m(5);a({id:e,value:"",label:"",classname:""}),g()}}),l.map(e=>(0,r.jsx)(u.Notice,{status:"info",onRemove:()=>(e=>{b(e),c(!0)})(e),children:(0,r.jsx)("span",{onClick:()=>(e=>{a(e),g()})(e),children:e.label})},e.id)),o&&(0,r.jsxs)(u.Modal,{title:(0,t.__)("Option Info Edit","block-collections"),onRequestClose:p,children:[(0,r.jsx)(u.TextControl,{label:(0,t.__)("Display Label","block-collections"),value:s.label,onChange:e=>x("label",e)}),(0,r.jsx)(u.TextControl,{label:(0,t.__)("Option Value","block-collections"),value:s.value,onChange:e=>x("value",e)}),(0,r.jsx)(u.TextControl,{label:(0,t.__)("Class Name","block-collections"),value:s.classname,onChange:e=>x("classname",e)}),(0,r.jsx)(u.Button,{variant:"primary",onClick:()=>{if(s&&l.some(e=>e.id===s.id)){const o=l.map(e=>e.id===s.id?s:e);e.onUpdateOption(o)}else e.onAddOption(s);p()},children:(0,t.__)("Save Changes","block-collections")})]}),i&&(0,r.jsxs)(u.Modal,{title:(0,t.__)("Confirm Deletion","block-collections"),onRequestClose:h,children:[(0,r.jsx)("p",{children:(0,t.__)("Are you sure you want to delete this item?","block-collections")}),(0,r.jsx)(u.Button,{variant:"primary",onClick:()=>{d&&(o=>{const t=l.filter(e=>e.id!==o);e.onUpdateOption(t)})(d.id),h()},children:(0,t.__)("Yes, Delete","block-collections")}),(0,r.jsx)(u.Button,{variant:"secondary",onClick:h,children:(0,t.__)("Cancel","block-collections")})]})]})}const j={top:"10px",left:"10px",right:"10px",bottom:"10px"},v={top:"0px",left:"0px",right:"0px",bottom:"0px"},f=[{value:"px",label:"px"},{value:"em",label:"em"},{value:"rem",label:"rem"}];function y({attributes:e,setAttributes:l,context:o}){const{inputName:i,selPattern:c,selectValues:g,selectedValues:p,isSetSelect:h,folder_val:x,required:m,bgColor:y,optionColor:S,hoverBgColor:B,font_style_option:w,default_pos:P,mobile_pos:V,bgSelectColor:O,bgSelectGradient:T,radius_value:N,border_value:R,shadow_element:E,is_shadow:A,className:M}=e,q=(0,a.useIsIframeMobile)(),G=(0,_.useRef)(null),L=(0,b.useBlockProps)({ref:G,style:{backgroundColor:y}}),I=(0,a.useElementBackgroundColor)(G,L.style);(0,_.useEffect)(()=>{if(I){l({shadow_element:{...E,baseColor:I}});const e=(0,a.ShadowElm)({...E,baseColor:I});e&&l({shadow_result:e.style})}},[I]),d(n.B,e);const D="multi"===c?{multiple:!0}:{};d(n.B,e);const F=o["itmar/label_width"]||"auto";return(0,_.useEffect)(()=>{l({labelWidth:F})},[F]),(0,_.useEffect)(()=>{l({selectedValues:[]})},[c]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.InspectorControls,{group:"settings",children:(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Select Element Settings","block-collections"),initialOpen:!0,className:"select_design_ctrl",children:[(0,r.jsx)(u.PanelRow,{children:(0,r.jsx)(u.TextControl,{label:(0,t.__)("name attribute name","block-collections"),value:i,onChange:e=>l({inputName:e})})}),(0,r.jsx)("label",{className:"components-base-control__label",children:(0,t.__)("Select Pattern","block-collections")}),(0,r.jsx)(u.PanelRow,{className:"itmar_select_row",children:(0,r.jsx)(u.RadioControl,{selected:c,options:[{label:(0,t.__)("Single Select","block-collections"),value:"single"},{label:(0,t.__)("Nulti Select","block-collections"),value:"multi"}],onChange:e=>{l({selPattern:e})}})}),(0,r.jsx)(u.TextControl,{label:(0,t.__)("Place Folder Display","block-collections"),value:x,onChange:e=>l({folder_val:e})}),h&&(0,r.jsx)(u.PanelBody,{className:"itmar_notice_select_panel",title:(0,t.__)("Option info Setting","block-collections"),children:(0,r.jsx)(k,{optionValues:g,onAddOption:e=>{l({selectValues:[...g,e]})},onUpdateOption:e=>{l({selectValues:e})}})})]})}),(0,r.jsxs)(b.InspectorControls,{group:"styles",children:[(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Global settings","block-collections"),initialOpen:!1,className:"select_design_ctrl",children:[(0,r.jsx)(b.__experimentalPanelColorGradientSettings,{title:(0,t.__)("Background Color Setting","block-collections"),settings:[{colorValue:y,label:(0,t.__)("Choose Block Background color","block-collections"),onColorChange:e=>l({bgColor:e})},{colorValue:O,gradientValue:T,label:(0,t.__)("Choose Select Background color","block-collections"),onColorChange:e=>{l({bgSelectColor:void 0===e?"":e})},onGradientChange:e=>l({bgSelectGradient:e})}]}),(0,r.jsx)(u.__experimentalBoxControl,{label:q?(0,t.__)("Margin settings(mobile)","block-collections"):(0,t.__)("Margin settings(desk top)","block-collections"),values:q?V.margin_value:P.margin_value,onChange:e=>{l(q?{mobile_pos:{...V,margin_value:e}}:{default_pos:{...P,margin_value:e}})},units:f,allowReset:!0,resetValues:j}),(0,r.jsx)(u.__experimentalBoxControl,{label:q?(0,t.__)("Padding settings(mobile)","block-collections"):(0,t.__)("Padding settings(desk top)","block-collections"),values:q?V.padding_value:P.padding_value,onChange:e=>{l(q?{mobile_pos:{...V,padding_value:e}}:{default_pos:{...P,padding_value:e}})},units:f,allowReset:!0,resetValues:j}),(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Border Settings","block-collections"),initialOpen:!1,className:"border_design_ctrl",children:[(0,r.jsx)(u.__experimentalBorderBoxControl,{colors:[{color:"#72aee6"},{color:"#000"},{color:"#fff"}],onChange:e=>l({border_value:e}),value:R,allowReset:!0,resetValues:v}),(0,r.jsx)(b.__experimentalBorderRadiusControl,{values:N,onChange:e=>l({radius_value:"string"==typeof e?{value:e}:e})})]}),(0,r.jsx)(u.ToggleControl,{label:(0,t.__)("Is Shadow","block-collections"),checked:A,onChange:e=>{l({is_shadow:e})}}),A&&(0,r.jsx)(a.ShadowStyle,{shadowStyle:{...E},onChange:(e,o)=>{l({shadow_result:e.style}),l({shadow_element:o})}})]}),(0,r.jsxs)(u.PanelBody,{title:(0,t.__)("Option Style Settings","block-collections"),initialOpen:!1,className:"select_design_ctrl",children:[(0,r.jsx)(a.TypographyControls,{title:(0,t.__)("Typography","block-collections"),fontStyle:w,onChange:e=>{l({font_style_option:e})},isMobile:q,initialOpen:!1}),(0,r.jsx)(b.__experimentalPanelColorGradientSettings,{title:(0,t.__)("Option Color Setting","block-collections"),settings:[{colorValue:S,label:(0,t.__)("Choose Text color","block-collections"),onColorChange:e=>l({optionColor:e})},{colorValue:B,label:(0,t.__)("Choose Background color on mouse hover","block-collections"),onColorChange:e=>l({hoverBgColor:e})}]})]})]}),(0,r.jsx)("div",{...L,children:(0,r.jsx)(n.B,{attributes:e,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.s,{onOptionSelect:e=>{if(null==e)return void l({selectedValues:[]});if(p.includes(e))return;const o="multi"===c?[...p,e]:[e];l({selectedValues:o})},onOptionDeselect:e=>{const o=p.filter(l=>l!==e);l({selectedValues:o})},children:(0,r.jsxs)("select",{class:"nomal",...D,name:i,"data-placeholder":x,children:["single"===c&&(0,r.jsx)("option",{value:"",children:(0,t.__)("Please Select.","block-collections")}),g.map(e=>(0,r.jsx)("option",{id:e.id,className:e.classname,value:e.value,selected:p.includes(e.id),children:e.label}))]})}),(0,r.jsx)(C,{attributes:{...e,isMobile:q},onChange:(e,o)=>l({[e]:o})})]})})})]})}}}]);